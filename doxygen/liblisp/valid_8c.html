<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>liblisp: valid.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">liblisp
   &#160;<span id="projectnumber">v0.6</span>
   </div>
   <div id="projectbrief">A LISP interpreter and library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('valid_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">valid.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>validate a list against a type format string, see the "liblisp.h" header or the code for the format options.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="liblisp_8h_source.html">liblisp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="private_8h_source.html">private.h</a>&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for valid.c:</div>
<div class="dyncontent">
<div class="center"><img src="valid_8c__incl.png" border="0" usemap="#valid_8c" alt=""/></div>
<map name="valid_8c" id="valid_8c">
<area shape="rect" id="node2" href="liblisp_8h.html" title="A minimal lisp interpreter and utility library. " alt="" coords="284,80,379,107"/><area shape="rect" id="node7" href="private_8h.html" title="An internal header for the liblisp project, not for external use. It defines the internals of what ar..." alt="" coords="165,80,260,107"/></map>
</div>
</div>
<p><a href="valid_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad90d51d3a471e4508e886cdb26aca15d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="valid_8c.html#ad90d51d3a471e4508e886cdb26aca15d">VALIDATE_XLIST</a></td></tr>
<tr class="separator:ad90d51d3a471e4508e886cdb26aca15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61d950f15df4874f0c21cb10cadb676"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">X</a>(CHAR, <a class="el" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aee847e634a4297b274316de8a8ca9921">STRING</a>, ACTION)&#160;&#160;&#160;case (CHAR): s = (<a class="el" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aee847e634a4297b274316de8a8ca9921">STRING</a>); break;</td></tr>
<tr class="separator:ad61d950f15df4874f0c21cb10cadb676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61d950f15df4874f0c21cb10cadb676"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">X</a>(CHAR, <a class="el" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aee847e634a4297b274316de8a8ca9921">STRING</a>, ACTION)&#160;&#160;&#160;case (CHAR): v = ACTION; break;</td></tr>
<tr class="separator:ad61d950f15df4874f0c21cb10cadb676"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2bee4a17fb4bbcc887be878e1f8c7e4c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="valid_8c.html#a2bee4a17fb4bbcc887be878e1f8c7e4c">print_type_string</a> (<a class="el" href="structlisp.html">lisp</a> *l, const char *msg, unsigned len, const char *fmt, <a class="el" href="structcell.html">cell</a> *args)</td></tr>
<tr class="separator:a2bee4a17fb4bbcc887be878e1f8c7e4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae25b9bb4524fe2b23538ebaa69828e73"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="valid_8c.html#ae25b9bb4524fe2b23538ebaa69828e73">validate_arg_count</a> (const char *fmt)</td></tr>
<tr class="memdesc:ae25b9bb4524fe2b23538ebaa69828e73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count the number of arguments in a validation format string validation format string, as passed to <a class="el" href="liblisp_8h.html#a2087a5f57f8d7ccb0fa6162195dfa0e0" title="validate an arguments list against a format string, this can either longjmp to an error handler if re...">lisp_validate_args()</a>  <a href="#ae25b9bb4524fe2b23538ebaa69828e73">More...</a><br /></td></tr>
<tr class="separator:ae25b9bb4524fe2b23538ebaa69828e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fbc0c9de7ed4f17b8db4bc9c62c544d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="valid_8c.html#a1fbc0c9de7ed4f17b8db4bc9c62c544d">lisp_validate_cell</a> (<a class="el" href="structlisp.html">lisp</a> *l, <a class="el" href="structcell.html">cell</a> *x, <a class="el" href="structcell.html">cell</a> *args, int recover)</td></tr>
<tr class="memdesc:a1fbc0c9de7ed4f17b8db4bc9c62c544d"><td class="mdescLeft">&#160;</td><td class="mdescRight">validate a function (subroutine, procedure or f-expression) against the information it carries around within itself, if this is not available the function returns 1 as if the validation had been successful. this can either longjmp to an error handler if recover is non zero or return a integer.  <a href="#a1fbc0c9de7ed4f17b8db4bc9c62c544d">More...</a><br /></td></tr>
<tr class="separator:a1fbc0c9de7ed4f17b8db4bc9c62c544d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaf93154312e1d9be57ca20db1870878"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="valid_8c.html#aaaf93154312e1d9be57ca20db1870878">lisp_validate_args</a> (<a class="el" href="structlisp.html">lisp</a> *l, const char *msg, unsigned len, const char *fmt, <a class="el" href="structcell.html">cell</a> *args, int recover)</td></tr>
<tr class="memdesc:aaaf93154312e1d9be57ca20db1870878"><td class="mdescLeft">&#160;</td><td class="mdescRight">validate an arguments list against a format string, this can either longjmp to an error handler if recover is non zero or return a integer (non zero if "args" type and length are correct).  <a href="#aaaf93154312e1d9be57ca20db1870878">More...</a><br /></td></tr>
<tr class="separator:aaaf93154312e1d9be57ca20db1870878"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>validate a list against a type format string, see the "liblisp.h" header or the code for the format options. </p>
<dl class="section author"><dt>Author</dt><dd>Richard Howe (2015) </dd></dl>
<dl class="section user"><dt>License:</dt><dd>LGPL v2.1 or Later </dd></dl>
<dl class="section user"><dt>Email:</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'how'+'e.'+'r.j'+'.8'+'9@g'+'ma'+'il.'+'co'+'m'; return false;">howe.<span style="display: none;">.nosp@m.</span>r.j.<span style="display: none;">.nosp@m.</span>89@gm<span style="display: none;">.nosp@m.</span>ail.<span style="display: none;">.nosp@m.</span>com</a></dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>Add checks for <em>specific</em> user defined values, this will require turning lisp_validate_args into a variadic function, something like u will pop an integer off the argument stack to test against. <dl class="section warning"><dt>Warning</dt><dd>The number of arguments in the string and the number of arguments passed into the validation string must be the same, this is the responsibility of the user of these functions </dd></dl>
</dd></dl>

<p>Definition in file <a class="el" href="valid_8c_source.html">valid.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad90d51d3a471e4508e886cdb26aca15d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VALIDATE_XLIST</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">X</a>(<span class="charliteral">&#39;s&#39;</span>, <span class="stringliteral">&quot;symbol&quot;</span>,            <a class="code" href="eval_8c.html#aa90bd79c45d06dfed26429e24d1958b2">is_sym</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;d&#39;</span>, <span class="stringliteral">&quot;integer&quot;</span>,           <a class="code" href="eval_8c.html#a673a7bd83441e5bf2f2e9a9cf17b4dbb">is_int</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;c&#39;</span>, <span class="stringliteral">&quot;cons&quot;</span>,              <a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;L&#39;</span>, <span class="stringliteral">&quot;cons-or-nil&quot;</span>,       <a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(x) || <a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;p&#39;</span>, <span class="stringliteral">&quot;procedure&quot;</span>,         <a class="code" href="eval_8c.html#a3e87c79a747f19e34f66d9188ec707b4">is_proc</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;r&#39;</span>, <span class="stringliteral">&quot;subroutine&quot;</span>,        <a class="code" href="eval_8c.html#a738a832f18035b88cb99a8340afa2a42">is_subr</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;S&#39;</span>, <span class="stringliteral">&quot;string&quot;</span>,            <a class="code" href="eval_8c.html#a302a5e3f8bf82b584dc6df70e24483cf">is_str</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;P&#39;</span>, <span class="stringliteral">&quot;io-port&quot;</span>,           <a class="code" href="eval_8c.html#a41011ffe658293cca3d76c16e2af5e57">is_io</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;h&#39;</span>, <span class="stringliteral">&quot;hash&quot;</span>,              <a class="code" href="eval_8c.html#a5f17a4741e9dd9175a02e4ef29231af7">is_hash</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;F&#39;</span>, <span class="stringliteral">&quot;f-expr&quot;</span>,            <a class="code" href="eval_8c.html#a97333f57ba4acc2d45552810bb446443">is_fproc</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;f&#39;</span>, <span class="stringliteral">&quot;float&quot;</span>,             <a class="code" href="eval_8c.html#a3e267767ffe98a449b4733bee7f49c0b">is_floating</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;u&#39;</span>, <span class="stringliteral">&quot;user-defined&quot;</span>,      <a class="code" href="eval_8c.html#a355560a5a6535a1742c759dfef1c2816">is_userdef</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;b&#39;</span>, <span class="stringliteral">&quot;t-or-nil&quot;</span>,          <a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(x) || x == <a class="code" href="liblisp_8h.html#af97f1637aa86c10572faa55cfe3cf02e">gsym_tee</a>())<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="stringliteral">&quot;input-port&quot;</span>,        <a class="code" href="eval_8c.html#a6e8b6cafc2f267d998dadc68665c2300">is_in</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;o&#39;</span>, <span class="stringliteral">&quot;output-port&quot;</span>,       <a class="code" href="eval_8c.html#a6d713271349299269de6a6833b407573">is_out</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;Z&#39;</span>, <span class="stringliteral">&quot;symbol-or-string&quot;</span>,  <a class="code" href="eval_8c.html#a7e02011ab7a447149e025d7e83f64a17">is_asciiz</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;a&#39;</span>, <span class="stringliteral">&quot;integer-or-float&quot;</span>,  <a class="code" href="eval_8c.html#ab1ac0398b17f5d69ed568b042e6e8191">is_arith</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;x&#39;</span>, <span class="stringliteral">&quot;function&quot;</span>,          <a class="code" href="eval_8c.html#a700ce22d8400fff0f20f01a4c87945ef">is_func</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;I&#39;</span>, <span class="stringliteral">&quot;input-port-or-string&quot;</span>, <a class="code" href="eval_8c.html#a6e8b6cafc2f267d998dadc68665c2300">is_in</a>(x) || <a class="code" href="eval_8c.html#a302a5e3f8bf82b584dc6df70e24483cf">is_str</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;l&#39;</span>, <span class="stringliteral">&quot;defined-procedure&quot;</span>, <a class="code" href="eval_8c.html#a3e87c79a747f19e34f66d9188ec707b4">is_proc</a>(x) || <a class="code" href="eval_8c.html#a97333f57ba4acc2d45552810bb446443">is_fproc</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;C&#39;</span>, <span class="stringliteral">&quot;symbol-string-or-integer&quot;</span>, <a class="code" href="eval_8c.html#a7e02011ab7a447149e025d7e83f64a17">is_asciiz</a>(x) || <a class="code" href="eval_8c.html#a673a7bd83441e5bf2f2e9a9cf17b4dbb">is_int</a>(x))<a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">\</a></div>
<div class="line"><a class="code" href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">        X</a>(<span class="charliteral">&#39;A&#39;</span>, <span class="stringliteral">&quot;any-expression&quot;</span>,    1)</div>
<div class="ttc" id="eval_8c_html_a7e02011ab7a447149e025d7e83f64a17"><div class="ttname"><a href="eval_8c.html#a7e02011ab7a447149e025d7e83f64a17">is_asciiz</a></div><div class="ttdeci">int is_asciiz(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a ASCII nul delimited string </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00085">eval.c:85</a></div></div>
<div class="ttc" id="eval_8c_html_a700ce22d8400fff0f20f01a4c87945ef"><div class="ttname"><a href="eval_8c.html#a700ce22d8400fff0f20f01a4c87945ef">is_func</a></div><div class="ttdeci">int is_func(cell *x)</div><div class="ttdoc">true if &#39;x&#39; can be applied (is a function) </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00087">eval.c:87</a></div></div>
<div class="ttc" id="eval_8c_html_a691ee8a194e57ce78edc4a1c6885874c"><div class="ttname"><a href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a></div><div class="ttdeci">int is_nil(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is equal to nil </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00069">eval.c:69</a></div></div>
<div class="ttc" id="eval_8c_html_a3e267767ffe98a449b4733bee7f49c0b"><div class="ttname"><a href="eval_8c.html#a3e267767ffe98a449b4733bee7f49c0b">is_floating</a></div><div class="ttdeci">int is_floating(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a floating point number </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00071">eval.c:71</a></div></div>
<div class="ttc" id="eval_8c_html_a97333f57ba4acc2d45552810bb446443"><div class="ttname"><a href="eval_8c.html#a97333f57ba4acc2d45552810bb446443">is_fproc</a></div><div class="ttdeci">int is_fproc(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a flambda procedure </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00076">eval.c:76</a></div></div>
<div class="ttc" id="eval_8c_html_a355560a5a6535a1742c759dfef1c2816"><div class="ttname"><a href="eval_8c.html#a355560a5a6535a1742c759dfef1c2816">is_userdef</a></div><div class="ttdeci">int is_userdef(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a user defined type </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00081">eval.c:81</a></div></div>
<div class="ttc" id="eval_8c_html_a6e8b6cafc2f267d998dadc68665c2300"><div class="ttname"><a href="eval_8c.html#a6e8b6cafc2f267d998dadc68665c2300">is_in</a></div><div class="ttdeci">int is_in(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is an input I/O type </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00186">eval.c:186</a></div></div>
<div class="ttc" id="eval_8c_html_a738a832f18035b88cb99a8340afa2a42"><div class="ttname"><a href="eval_8c.html#a738a832f18035b88cb99a8340afa2a42">is_subr</a></div><div class="ttdeci">int is_subr(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a language primitive </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00079">eval.c:79</a></div></div>
<div class="ttc" id="eval_8c_html_a673a7bd83441e5bf2f2e9a9cf17b4dbb"><div class="ttname"><a href="eval_8c.html#a673a7bd83441e5bf2f2e9a9cf17b4dbb">is_int</a></div><div class="ttdeci">int is_int(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a integer </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00070">eval.c:70</a></div></div>
<div class="ttc" id="eval_8c_html_a3e87c79a747f19e34f66d9188ec707b4"><div class="ttname"><a href="eval_8c.html#a3e87c79a747f19e34f66d9188ec707b4">is_proc</a></div><div class="ttdeci">int is_proc(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a lambda procedure </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00075">eval.c:75</a></div></div>
<div class="ttc" id="eval_8c_html_a51296b30f2321a06d685f54411331d62"><div class="ttname"><a href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a></div><div class="ttdeci">int is_cons(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a cons cell </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00073">eval.c:73</a></div></div>
<div class="ttc" id="eval_8c_html_aa90bd79c45d06dfed26429e24d1958b2"><div class="ttname"><a href="eval_8c.html#aa90bd79c45d06dfed26429e24d1958b2">is_sym</a></div><div class="ttdeci">int is_sym(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a symbol </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00078">eval.c:78</a></div></div>
<div class="ttc" id="valid_8c_html_ad61d950f15df4874f0c21cb10cadb676"><div class="ttname"><a href="valid_8c.html#ad61d950f15df4874f0c21cb10cadb676">X</a></div><div class="ttdeci">#define X(CHAR, STRING, ACTION)</div></div>
<div class="ttc" id="eval_8c_html_a41011ffe658293cca3d76c16e2af5e57"><div class="ttname"><a href="eval_8c.html#a41011ffe658293cca3d76c16e2af5e57">is_io</a></div><div class="ttdeci">int is_io(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a I/O type </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00072">eval.c:72</a></div></div>
<div class="ttc" id="eval_8c_html_a5f17a4741e9dd9175a02e4ef29231af7"><div class="ttname"><a href="eval_8c.html#a5f17a4741e9dd9175a02e4ef29231af7">is_hash</a></div><div class="ttdeci">int is_hash(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a hash table type </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00080">eval.c:80</a></div></div>
<div class="ttc" id="eval_8c_html_a302a5e3f8bf82b584dc6df70e24483cf"><div class="ttname"><a href="eval_8c.html#a302a5e3f8bf82b584dc6df70e24483cf">is_str</a></div><div class="ttdeci">int is_str(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a string </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00077">eval.c:77</a></div></div>
<div class="ttc" id="liblisp_8h_html_af97f1637aa86c10572faa55cfe3cf02e"><div class="ttname"><a href="liblisp_8h.html#af97f1637aa86c10572faa55cfe3cf02e">gsym_tee</a></div><div class="ttdeci">LIBLISP_API cell * gsym_tee(void)</div><div class="ttdoc">return the tee symbol </div></div>
<div class="ttc" id="eval_8c_html_a6d713271349299269de6a6833b407573"><div class="ttname"><a href="eval_8c.html#a6d713271349299269de6a6833b407573">is_out</a></div><div class="ttdeci">int is_out(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is an output I/O type </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00187">eval.c:187</a></div></div>
<div class="ttc" id="eval_8c_html_ab1ac0398b17f5d69ed568b042e6e8191"><div class="ttname"><a href="eval_8c.html#ab1ac0398b17f5d69ed568b042e6e8191">is_arith</a></div><div class="ttdeci">int is_arith(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is integer or float </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00086">eval.c:86</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="valid_8c_source.html#l00024">24</a> of file <a class="el" href="valid_8c_source.html">valid.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad61d950f15df4874f0c21cb10cadb676"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define X</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CHAR, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aee847e634a4297b274316de8a8ca9921">STRING</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ACTION&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;case (CHAR): s = (<a class="el" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aee847e634a4297b274316de8a8ca9921">STRING</a>); break;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad61d950f15df4874f0c21cb10cadb676"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define X</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CHAR, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aee847e634a4297b274316de8a8ca9921">STRING</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ACTION&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;case (CHAR): v = ACTION; break;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aaaf93154312e1d9be57ca20db1870878"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lisp_validate_args </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlisp.html">lisp</a> *&#160;</td>
          <td class="paramname"><em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcell.html">cell</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recover</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>validate an arguments list against a format string, this can either longjmp to an error handler if recover is non zero or return a integer (non zero if "args" type and length are correct). </p>
<p>The format string expected is as follows:</p>
<p>s a symbol d integer c a cons cell p procedure, defined with "lambda" r subroutine, a built in subroutine S a string P io-port, either input or an output port h a hash F f-expression, defined with "flambda" f floating point number u a user-defined type b t or nil i input-port only o output-port only Z symbol or string (ASCIIZ string) a integer or float x function, (lambda, f-expression or subroutine) I input-port or string l any defined procedure (lambda or f-expression) C symbol, string or integer A any expression</p>
<p>The format is determined by the internal needs of the interpreter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>lisp environment for error handling </td></tr>
    <tr><td class="paramname">msg</td><td>error message to print out (can be NULL) </td></tr>
    <tr><td class="paramname">len</td><td>length of arguments list </td></tr>
    <tr><td class="paramname">fmt</td><td>expected format of arguments </td></tr>
    <tr><td class="paramname">args</td><td>argument cons list to validate against </td></tr>
    <tr><td class="paramname">recover</td><td>if non zero this will longjmp to an error handler instead of returning. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if invalid (or lonjmp if recover is non zero), 1 if valid </dd></dl>

<p>Definition at line <a class="el" href="valid_8c_source.html#l00095">95</a> of file <a class="el" href="valid_8c_source.html">valid.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1fbc0c9de7ed4f17b8db4bc9c62c544d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lisp_validate_cell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlisp.html">lisp</a> *&#160;</td>
          <td class="paramname"><em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcell.html">cell</a> *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcell.html">cell</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recover</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>validate a function (subroutine, procedure or f-expression) against the information it carries around within itself, if this is not available the function returns 1 as if the validation had been successful. this can either longjmp to an error handler if recover is non zero or return a integer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>lisp environment for error handling </td></tr>
    <tr><td class="paramname">x</td><td>function to validate </td></tr>
    <tr><td class="paramname">args</td><td>argument cons list to validate against </td></tr>
    <tr><td class="paramname">recover</td><td>if non zero this will longjmp to an error handler instead of returning. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if invalid (or lonjmp if recover is non zero), 1 if valid </dd></dl>

<p>Definition at line <a class="el" href="valid_8c_source.html#l00082">82</a> of file <a class="el" href="valid_8c_source.html">valid.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2bee4a17fb4bbcc887be878e1f8c7e4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int print_type_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlisp.html">lisp</a> *&#160;</td>
          <td class="paramname"><em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcell.html">cell</a> *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="valid_8c_source.html#l00048">48</a> of file <a class="el" href="valid_8c_source.html">valid.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae25b9bb4524fe2b23538ebaa69828e73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t validate_arg_count </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Count the number of arguments in a validation format string validation format string, as passed to <a class="el" href="liblisp_8h.html#a2087a5f57f8d7ccb0fa6162195dfa0e0" title="validate an arguments list against a format string, this can either longjmp to an error handler if re...">lisp_validate_args()</a> </p>
<dl class="section return"><dt>Returns</dt><dd>argument count </dd></dl>

<p>Definition at line <a class="el" href="valid_8c_source.html#l00072">72</a> of file <a class="el" href="valid_8c_source.html">valid.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="valid_8c.html">valid.c</a></li>
    <li class="footer">Generated on Sun Jan 10 2016 00:49:13 for liblisp by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
