<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>liblisp: eval.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">liblisp
   &#160;<span id="projectnumber">v0.6</span>
   </div>
   <div id="projectbrief">A LISP interpreter and library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('eval_8c_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">eval.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="eval_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="liblisp_8h.html">liblisp.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="private_8h.html">private.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;assert.h&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;stdarg.h&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="eval_8c.html#ac131244b242a3ab9046ad1e6202c7617">   22</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="eval_8c.html#ac131244b242a3ab9046ad1e6202c7617">dynamic_on</a> = 0; </div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="eval_8c.html#ade3b136d40c39facb2bc072e5e73c97f">   24</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#ade3b136d40c39facb2bc072e5e73c97f">mk</a>(<a class="code" href="structlisp.html">lisp</a> *l, <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834">lisp_type</a> type, <span class="keywordtype">size_t</span> count, ...) </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{ </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        assert(l &amp;&amp; type != <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aef2863a469df3ea6871d640e3669a2f2">INVALID</a> &amp;&amp; count);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <a class="code" href="structcell.html">cell</a> *ret;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <a class="code" href="structgc__list.html">gc_list</a> *node; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        va_list ap;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="keywordflow">if</span>(l-&gt;<a class="code" href="structlisp.html#a4923434c9224ab01519f04fa41d0d20b">gc_collectp</a>++ &gt; <a class="code" href="private_8h.html#a0f16121c3e636a810406d75975bb8fb4">COLLECTION_POINT</a>) <span class="comment">/*set to 1 for testing*/</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                <a class="code" href="gc_8c.html#ac0d2fe5ff60f86b7454b31b97141cc67">gc_mark_and_sweep</a>(l);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        va_start(ap, count);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="keywordflow">if</span>(!(ret = calloc(1, <span class="keyword">sizeof</span>(<a class="code" href="structcell.html">cell</a>) + (count - 1) * <span class="keyword">sizeof</span>(<a class="code" href="unioncell__data.html">cell_data</a>))))</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                <a class="code" href="liblisp_8h.html#a55fbbe06f70eed969112255cab922049">HALT</a>(l, <span class="stringliteral">&quot;\&quot;%s\&quot;&quot;</span>, <span class="stringliteral">&quot;out of memory&quot;</span>);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keywordflow">if</span>(!(node = calloc(1, <span class="keyword">sizeof</span>(<a class="code" href="structgc__list.html">gc_list</a>))))</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                <a class="code" href="liblisp_8h.html#a55fbbe06f70eed969112255cab922049">HALT</a>(l, <span class="stringliteral">&quot;\&quot;%s\&quot;&quot;</span>, <span class="stringliteral">&quot;out of memory&quot;</span>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        ret-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> = type;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; count; i++) </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                <span class="keywordflow">if</span>     (<a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a9cf4a0866224b0bb4a7a895da27c9c4c">FLOAT</a> == type) ret-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[i].<a class="code" href="unioncell__data.html#a33c4da3d6d24d8b1ce461dd815991d43">f</a>    = va_arg(ap, <span class="keywordtype">double</span>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a5021f1b3acf88c9d7763faee3ea926d2">SUBR</a> == type)  ret-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[i].<a class="code" href="unioncell__data.html#afdc55edacb3c5b23078b16a786556662">prim</a> = va_arg(ap, <a class="code" href="liblisp_8h.html#a5a64276747b995fc353ef8fcfbc683f8">subr</a>);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                <span class="keywordflow">else</span>                   ret-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[i].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>    = va_arg(ap, <span class="keywordtype">void</span>*);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        va_end(ap);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        node-&gt;<a class="code" href="structgc__list.html#a17641719035c45bc1c924c01b4967e82">ref</a> = ret;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        node-&gt;<a class="code" href="structgc__list.html#a57d24fcd3af36e93f16a3bee72773025">next</a> = l-&gt;<a class="code" href="structlisp.html#a2e9a2fabf313f92b948a2c345189d5ba">gc_head</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        l-&gt;<a class="code" href="structlisp.html#a2e9a2fabf313f92b948a2c345189d5ba">gc_head</a> = node;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="gc_8c.html#a11b4613c9b36ca7a145c8fb466848c2c">gc_add</a>(l, ret);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a1a67fbf01e77c55cb75e5db41a7a35ce">   53</a></span>&#160;<a class="code" href="structcell.html">cell</a>* <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(<a class="code" href="structlisp.html">lisp</a> *l, <a class="code" href="structcell.html">cell</a> *x, <a class="code" href="structcell.html">cell</a> *y) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="structcell.html">cell</a> *z = <a class="code" href="eval_8c.html#ade3b136d40c39facb2bc072e5e73c97f">mk</a>(l, <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a25b8c53f9baa8274b0d8008fd46be538">CONS</a>, 2, x, y);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        assert(l <span class="comment">/*&amp;&amp; x &amp;&amp; y*/</span>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">if</span>(!z || !x || !y) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(y)) z-&gt;<a class="code" href="structcell.html#a2052b8d8b73ec512c27ed7179b35c701">len</a> = y-&gt;<a class="code" href="structcell.html#a2052b8d8b73ec512c27ed7179b35c701">len</a> + 1;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(y)) z-&gt;<a class="code" href="structcell.html#a2052b8d8b73ec512c27ed7179b35c701">len</a>++;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">return</span> z;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a9faeaaa5f5d970c24f89045865c42ca9">   62</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(<a class="code" href="structcell.html">cell</a> *con)          { assert(con &amp;&amp; <a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(con)); <span class="keywordflow">return</span> con-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[0].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>; }</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="liblisp_8h.html#ab15771e063022c7c9932170fb9df1527">   63</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(<a class="code" href="structcell.html">cell</a> *con)          { assert(con &amp;&amp; <a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(con)); <span class="keywordflow">return</span> con-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[1].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>; }</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a100f42ee601047e401a6a2aeb6f0310a">   64</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="eval_8c.html#a7cf7bde5254372e4d41fa8b8f5629681">set_car</a>(<a class="code" href="structcell.html">cell</a> *con, <a class="code" href="structcell.html">cell</a> *val)  { assert(con &amp;&amp; <a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(con) &amp;&amp; val); con-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[0].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a> = val; }</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="liblisp_8h.html#acbb138d513a01da1182d1405fc5207f9">   65</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="eval_8c.html#aa0ed6533f101d55e1de0d35c2cb5a3a6">set_cdr</a>(<a class="code" href="structcell.html">cell</a> *con, <a class="code" href="structcell.html">cell</a> *val)  { assert(con &amp;&amp; <a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(con) &amp;&amp; val); con-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[1].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a> = val; }</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="liblisp_8h.html#ad97b66e4b357d1e2c56618b9a28ee933">   66</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="eval_8c.html#a39729411da5f19e4a8700ee4bedf613b">close_cell</a>(<a class="code" href="structcell.html">cell</a> *x)      { assert(x); x-&gt;<a class="code" href="structcell.html#aecf75f37501f246db13387dd4bbefefd">close</a> = 1; }</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a6d9a4023c2639e8ccd491b9a20a2e4e9">   67</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a77329a949eaf7e17a1b198d75ef3b3cc">cklen</a>(<a class="code" href="structcell.html">cell</a> *x, <span class="keywordtype">size_t</span> expect) { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#a2052b8d8b73ec512c27ed7179b35c701">len</a> == expect; }</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a04314e31004e7799c131c07c7e7ee405">   68</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="eval_8c.html#a9975583d38b57041ec81735b111fc796">set_length</a>(<a class="code" href="structcell.html">cell</a> *x, <span class="keywordtype">size_t</span> len) { assert(x); x-&gt;<a class="code" href="structcell.html#a2052b8d8b73ec512c27ed7179b35c701">len</a> = len; }</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a6e0ad8aa7d374d239b1bcfc881a1f726">   69</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(<a class="code" href="structcell.html">cell</a> *x)          { assert(x); <span class="keywordflow">return</span> x == <a class="code" href="liblisp_8h.html#adaa3b303ab3dab9d51da22fd2b5297e9">gsym_nil</a>(); }</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="liblisp_8h.html#abb9e5571d74bfab074fcb790a9d728fb">   70</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a673a7bd83441e5bf2f2e9a9cf17b4dbb">is_int</a>(<a class="code" href="structcell.html">cell</a> *x)          { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a5a063e265d2ac903b6808e9f6e73ec46">INTEGER</a>; }</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="liblisp_8h.html#ac0d9d23dd1d963aea27129f71d8fb91f">   71</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a3e267767ffe98a449b4733bee7f49c0b">is_floating</a>(<a class="code" href="structcell.html">cell</a> *x)     { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a9cf4a0866224b0bb4a7a895da27c9c4c">FLOAT</a>; }</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a5798066b2746d25287cf619d92d75ba2">   72</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a41011ffe658293cca3d76c16e2af5e57">is_io</a>(<a class="code" href="structcell.html">cell</a> *x)           { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aedd9974ef2207e0a03e0717dcb9e2269">IO</a> &amp;&amp; !x-&gt;<a class="code" href="structcell.html#aecf75f37501f246db13387dd4bbefefd">close</a>; }</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="liblisp_8h.html#ad425a9b3198e7c6760fe470df1a8216e">   73</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(<a class="code" href="structcell.html">cell</a> *x)         { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a25b8c53f9baa8274b0d8008fd46be538">CONS</a>; }</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a20d705da34a8fa1dea472ef49ca80ab0">   74</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#aeb5730e0409d2651b978e4df154cc320">is_proper_cons</a>(<a class="code" href="structcell.html">cell</a> *x)  { assert(x); <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(x) &amp;&amp; (<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(<a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(x)) || <a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(<a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(x))); }</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a3ca56a051a54360030649ce8345b279c">   75</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a3e87c79a747f19e34f66d9188ec707b4">is_proc</a>(<a class="code" href="structcell.html">cell</a> *x)         { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a616db68dab196835059ff976d67fac33">PROC</a>; }</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a3e5ffea5bf676bcdf5b3696fad220db0">   76</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a97333f57ba4acc2d45552810bb446443">is_fproc</a>(<a class="code" href="structcell.html">cell</a> *x)        { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a1c4e8663b63d920e751d99c8a81c55f7">FPROC</a>; }</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a38cd2d92d9bd30b5d802ad0a62d3dbeb">   77</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a302a5e3f8bf82b584dc6df70e24483cf">is_str</a>(<a class="code" href="structcell.html">cell</a> *x)          { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aee847e634a4297b274316de8a8ca9921">STRING</a>; }</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a35c8035a1a06e5ce087515c05b88bb73">   78</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#aa90bd79c45d06dfed26429e24d1958b2">is_sym</a>(<a class="code" href="structcell.html">cell</a> *x)          { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834ae3d30ffaffa3c06ed917e565dda1fbc5">SYMBOL</a>; }</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="liblisp_8h.html#acf1b854e7561c669deb9c4868afc7ebc">   79</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a738a832f18035b88cb99a8340afa2a42">is_subr</a>(<a class="code" href="structcell.html">cell</a> *x)         { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a5021f1b3acf88c9d7763faee3ea926d2">SUBR</a>; }</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="liblisp_8h.html#abbb7b741d4068585e4038006ca2ec155">   80</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a5f17a4741e9dd9175a02e4ef29231af7">is_hash</a>(<a class="code" href="structcell.html">cell</a> *x)         { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a3463ba81467a175d3608388e36aacab5">HASH</a>; }</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="liblisp_8h.html#abbc26f21d64ea5cfa139652d9d55de2e">   81</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a355560a5a6535a1742c759dfef1c2816">is_userdef</a>(<a class="code" href="structcell.html">cell</a> *x)      { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a19f80321835bd625e84101dc8fe164c1">USERDEF</a> &amp;&amp; !x-&gt;<a class="code" href="structcell.html#aecf75f37501f246db13387dd4bbefefd">close</a>; }</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="liblisp_8h.html#ac4fc0d075fe9b13ee0dbf0ad2046c090">   82</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a57482ff639fc1f5e9a05c3be2baf3652">is_usertype</a>(<a class="code" href="structcell.html">cell</a> *x, <span class="keywordtype">int</span> type) { assert(x &amp;&amp; type &lt; MAX_USER_TYPES &amp;&amp; type &gt;= 0);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a19f80321835bd625e84101dc8fe164c1">USERDEF</a> &amp;&amp; <a class="code" href="eval_8c.html#a4a8c06dcbe437b8ae5e41d7dff7db1ec">get_user_type</a>(x) == type &amp;&amp; !x-&gt;<a class="code" href="structcell.html#aecf75f37501f246db13387dd4bbefefd">close</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a1b040fb86c5a97cd6c248562d4cbb471">   85</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a7e02011ab7a447149e025d7e83f64a17">is_asciiz</a>(<a class="code" href="structcell.html">cell</a> *x)       { assert(x); <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#a302a5e3f8bf82b584dc6df70e24483cf">is_str</a>(x) || <a class="code" href="eval_8c.html#aa90bd79c45d06dfed26429e24d1958b2">is_sym</a>(x); }</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a84a125a07d2839b262d5d9f82b32181f">   86</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#ab1ac0398b17f5d69ed568b042e6e8191">is_arith</a>(<a class="code" href="structcell.html">cell</a> *x)        { assert(x); <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#a673a7bd83441e5bf2f2e9a9cf17b4dbb">is_int</a>(x) || <a class="code" href="eval_8c.html#a3e267767ffe98a449b4733bee7f49c0b">is_floating</a>(x); }</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a5c1a7812a2d7e8a5690153d27bf7a747">   87</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a700ce22d8400fff0f20f01a4c87945ef">is_func</a>(<a class="code" href="structcell.html">cell</a> *x)         { assert(x); <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#a3e87c79a747f19e34f66d9188ec707b4">is_proc</a>(x) || <a class="code" href="eval_8c.html#a97333f57ba4acc2d45552810bb446443">is_fproc</a>(x) || <a class="code" href="eval_8c.html#a738a832f18035b88cb99a8340afa2a42">is_subr</a>(x); }</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a713d0e3a52a80bcdd2a0add4984a1916">   88</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#aa35f0a1ffb5b3ff63262de1286f81edf">is_closed</a>(<a class="code" href="structcell.html">cell</a> *x)       { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#aecf75f37501f246db13387dd4bbefefd">close</a>; }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="liblisp_8h.html#ac573091ef58719e3e64d9e6bc258111d">   90</a></span>&#160;<span class="keywordtype">int</span>  <a class="code" href="eval_8c.html#a003f5e58ee7489a56411505889a4524a">is_list</a>(<a class="code" href="structcell.html">cell</a> *x) { assert(x);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keywordflow">for</span>(;!<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(x); x = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(x))</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                <span class="keywordflow">if</span>(!<a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(<a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(x)) &amp;&amp; !<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(<a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(x)))</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a33eac560dcc43b9b2b4fb41ee2714b97">   97</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="eval_8c.html#a4b702fae0cca30e63172477748be82cb">fix_list_len</a>(<a class="code" href="structcell.html">cell</a> *x, <span class="keywordtype">size_t</span> l) { assert(x);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">for</span>(;!<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(x); x = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(x))</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                x-&gt;<a class="code" href="structcell.html#a2052b8d8b73ec512c27ed7179b35c701">len</a> = l--;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        assert(!l);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="eval_8c.html#aea42ecac7b727aa8b0b9d00ed39a47aa">  103</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#aea42ecac7b727aa8b0b9d00ed39a47aa">mk_asciiz</a>(<a class="code" href="structlisp.html">lisp</a> *l, <span class="keywordtype">char</span> *s, <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834">lisp_type</a> type) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordtype">size_t</span> slen;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        assert(l &amp;&amp; s &amp;&amp; (type == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aee847e634a4297b274316de8a8ca9921">STRING</a> || type == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834ae3d30ffaffa3c06ed917e565dda1fbc5">SYMBOL</a>));</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <a class="code" href="structcell.html">cell</a> *x = <a class="code" href="eval_8c.html#ade3b136d40c39facb2bc072e5e73c97f">mk</a>(l, type, 1, (<a class="code" href="structcell.html">cell</a> *)s); </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">if</span>(!x) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        slen = strlen(s);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        assert((<a class="code" href="private_8h.html#a35c8d797a63ea3491ea77f5898ddf471">BITS_IN_LENGTH</a> &gt;= 32) &amp;&amp; slen &lt; 0xFFFFFFFFu);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        x-&gt;<a class="code" href="structcell.html#a2052b8d8b73ec512c27ed7179b35c701">len</a> = slen;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">return</span> x;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="eval_8c.html#adfde0b3c79a0ba5ea6c9ad14ed3b17b5">  113</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#adfde0b3c79a0ba5ea6c9ad14ed3b17b5">mk_sym</a>(<a class="code" href="structlisp.html">lisp</a> *l, <span class="keywordtype">char</span> *s) { <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#aea42ecac7b727aa8b0b9d00ed39a47aa">mk_asciiz</a>(l, s, <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834ae3d30ffaffa3c06ed917e565dda1fbc5">SYMBOL</a>); }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a89853887a4b8e878e12f0d3ba5066d01">  115</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#a39d638c87292e05e38d881cbbb7fc9be">mk_list</a>(<a class="code" href="structlisp.html">lisp</a> *l, <a class="code" href="structcell.html">cell</a> *x, ...) { assert(x);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="structcell.html">cell</a> *head, *op, *next;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        va_list ap;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        head = op = <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(l, x, <a class="code" href="liblisp_8h.html#adaa3b303ab3dab9d51da22fd2b5297e9">gsym_nil</a>());</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        va_start(ap, x);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">for</span>(i = 1;(next = va_arg(ap, <a class="code" href="structcell.html">cell</a>*)); op = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(op), i++)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                <a class="code" href="eval_8c.html#aa0ed6533f101d55e1de0d35c2cb5a3a6">set_cdr</a>(op, <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(l, next, <a class="code" href="liblisp_8h.html#adaa3b303ab3dab9d51da22fd2b5297e9">gsym_nil</a>()));</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        va_end(ap);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="eval_8c.html#a4b702fae0cca30e63172477748be82cb">fix_list_len</a>(head, i);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">return</span> head;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a29aae2e9df0d082ec529501c7ab4fd4d">  128</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#a43a5b79266ab4eaf9acacfc074100962">mk_int</a>(<a class="code" href="structlisp.html">lisp</a> *l, intptr_t d) { assert(l); <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#ade3b136d40c39facb2bc072e5e73c97f">mk</a>(l, <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a5a063e265d2ac903b6808e9f6e73ec46">INTEGER</a>, 1, (<a class="code" href="structcell.html">cell</a>*) d); }</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a5aaeee6b119b40f6dddfe11558a8a9d0">  129</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#ad37aa91bda3699e1a7bb0ca8b10a2859">mk_io</a>(<a class="code" href="structlisp.html">lisp</a> *l, <a class="code" href="structio.html">io</a> *x)    { assert(l &amp;&amp; x); <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#ade3b136d40c39facb2bc072e5e73c97f">mk</a>(l, <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aedd9974ef2207e0a03e0717dcb9e2269">IO</a>, 1, (<a class="code" href="structcell.html">cell</a>*)x); }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a0903d471fc58361d2439cc5e67512a84">  131</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#ad17b84da431b2ff977e964afe0da7c7c">mk_subr</a>(<a class="code" href="structlisp.html">lisp</a> *l, <a class="code" href="liblisp_8h.html#a5a64276747b995fc353ef8fcfbc683f8">subr</a> p, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, <span class="keyword">const</span> <span class="keywordtype">char</span> *doc) { assert(l &amp;&amp; p); </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="structcell.html">cell</a> *t;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        t = <a class="code" href="eval_8c.html#ade3b136d40c39facb2bc072e5e73c97f">mk</a>(l, <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a5021f1b3acf88c9d7763faee3ea926d2">SUBR</a>, 3, p); </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">if</span>(fmt) { </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                <span class="keywordtype">size_t</span> tlen = <a class="code" href="private_8h.html#ae25b9bb4524fe2b23538ebaa69828e73">validate_arg_count</a>(fmt); </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                assert((<a class="code" href="private_8h.html#a35c8d797a63ea3491ea77f5898ddf471">BITS_IN_LENGTH</a> &gt;= 32) &amp;&amp; tlen &lt; 0xFFFFFFFFu);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                t-&gt;<a class="code" href="structcell.html#a2052b8d8b73ec512c27ed7179b35c701">len</a> = tlen;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        t-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[1].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a> = (<span class="keywordtype">void</span>*)fmt;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        t-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[2].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a> = (<span class="keywordtype">void</span>*)<a class="code" href="eval_8c.html#a87c86dd8ca95f47bfdd927462af3b522">mk_str</a>(l, <a class="code" href="liblisp_8h.html#ab1d088f82cf40fc45daefd8c667a30ac">lstrdup</a>(doc ? doc : <span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">return</span> t;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="liblisp_8h.html#ac7903b599cfd30ee1cc85eb7927a5b61">  144</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#aeb1c1daea46ede355bd0f5284daa0958">mk_proc</a>(<a class="code" href="structlisp.html">lisp</a> *l, <a class="code" href="structcell.html">cell</a> *args, <a class="code" href="structcell.html">cell</a> *code, <a class="code" href="structcell.html">cell</a> *env, <a class="code" href="structcell.html">cell</a> *doc)  { assert(l &amp;&amp; args &amp;&amp; code &amp;&amp; env); </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#ade3b136d40c39facb2bc072e5e73c97f">mk</a>(l, <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a616db68dab196835059ff976d67fac33">PROC</a>,  5, args, code, env, NULL, doc); </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a2ebf591ad307602ec5a4275e60dc0422">  148</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#a6e5a3510012834cf953314a4eb9d4816">mk_fproc</a>(<a class="code" href="structlisp.html">lisp</a> *l, <a class="code" href="structcell.html">cell</a> *args, <a class="code" href="structcell.html">cell</a> *code, <a class="code" href="structcell.html">cell</a> *env, <a class="code" href="structcell.html">cell</a> *doc) { assert(l &amp;&amp; args &amp;&amp; code &amp;&amp; env); </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#ade3b136d40c39facb2bc072e5e73c97f">mk</a>(l, <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a1c4e8663b63d920e751d99c8a81c55f7">FPROC</a>, 5, args, code, env, NULL, doc); </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="liblisp_8h.html#afa5b2ff8b5fbdd638c40418007d180d8">  152</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#a49d097af835b416769efc7dbb77f00a4">mk_float</a>(<a class="code" href="structlisp.html">lisp</a> *l, <a class="code" href="liblisp_8h.html#a1a979c161eb5ec8e01819e10ac6e25a9">lfloat</a> f) { assert(l); <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#ade3b136d40c39facb2bc072e5e73c97f">mk</a>(l, <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a9cf4a0866224b0bb4a7a895da27c9c4c">FLOAT</a>, 1, f); }</div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a5c012446e29c45be1cadb3a1e57d19e1">  153</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#a87c86dd8ca95f47bfdd927462af3b522">mk_str</a>(<a class="code" href="structlisp.html">lisp</a> *l, <span class="keywordtype">char</span> *s) { <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#aea42ecac7b727aa8b0b9d00ed39a47aa">mk_asciiz</a>(l, s, <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aee847e634a4297b274316de8a8ca9921">STRING</a>); }</div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a2aa739f9902088f9dae3c6abac2301ef">  154</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#acb62c0c8bfeb0cf04d9f57d6306c8d89">mk_hash</a>(<a class="code" href="structlisp.html">lisp</a> *l, <a class="code" href="structhashtable.html">hashtable</a> *h) { <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#ade3b136d40c39facb2bc072e5e73c97f">mk</a>(l, <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a3463ba81467a175d3608388e36aacab5">HASH</a>, 1, (<a class="code" href="structcell.html">cell</a> *)h); }</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a11d2ba534ac13cc5966efa84b1ee6c61">  155</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#a0dae34d4c122908be89718cb875722c3">mk_user</a>(<a class="code" href="structlisp.html">lisp</a> *l, <span class="keywordtype">void</span> *x, intptr_t type) { </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        assert(l &amp;&amp; x &amp;&amp; type &gt;= 0 &amp;&amp; type &lt; l-&gt;user_defined_types_used);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="structcell.html">cell</a> *ret = <a class="code" href="eval_8c.html#ade3b136d40c39facb2bc072e5e73c97f">mk</a>(l, <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a19f80321835bd625e84101dc8fe164c1">USERDEF</a>, 2, x);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        ret-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[1].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a> = (<span class="keywordtype">void</span>*) type;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a0539b5de56f5aa052ac3c9a987af85e9">  162</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="eval_8c.html#a5a828623d56160e42f52235770c12e5b">get_length</a>(<a class="code" href="structcell.html">cell</a> *x)      { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#a2052b8d8b73ec512c27ed7179b35c701">len</a>; }</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="liblisp_8h.html#ad3006966e651ec47fb240d64b7f8d6a7">  163</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="eval_8c.html#a9012a737bc88660a10830113b2c31231">get_raw</a>(<a class="code" href="structcell.html">cell</a> *x)            { assert(x); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[0].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>; }</div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a5ddb927f8b53c872ac3109441092dd4c">  164</a></span>&#160;intptr_t <a class="code" href="eval_8c.html#a7ce0e3258bc81559be6fde7b1e5d9f8a">get_int</a>(<a class="code" href="structcell.html">cell</a> *x)         { <span class="keywordflow">return</span> !x ? 0 : (intptr_t)(x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[0].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>); }</div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a9b53b3dc3128c9fe3210c76bf521ace0">  165</a></span>&#160;<a class="code" href="liblisp_8h.html#a5a64276747b995fc353ef8fcfbc683f8">subr</a>  <a class="code" href="eval_8c.html#aa27c8240813919b7c0026d47ecc8d80e">get_subr</a>(<a class="code" href="structcell.html">cell</a> *x)           { assert(x &amp;&amp; <a class="code" href="eval_8c.html#a738a832f18035b88cb99a8340afa2a42">is_subr</a>(x)); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[0].<a class="code" href="unioncell__data.html#afdc55edacb3c5b23078b16a786556662">prim</a>; }</div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a95c2a224db662825c21e4561556fd77d">  166</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#a62ad9147fad87e2a8072489915ee4097">get_proc_args</a>(<a class="code" href="structcell.html">cell</a> *x)      { assert(x &amp;&amp; (<a class="code" href="eval_8c.html#a3e87c79a747f19e34f66d9188ec707b4">is_proc</a>(x) || <a class="code" href="eval_8c.html#a97333f57ba4acc2d45552810bb446443">is_fproc</a>(x))); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[0].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>; }</div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a137cda35f4a58372e5a1c7f7ba5bb1f0">  167</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#ac81cb1e094eea029e6d6436c728b540b">get_proc_code</a>(<a class="code" href="structcell.html">cell</a> *x)      { assert(x &amp;&amp; (<a class="code" href="eval_8c.html#a3e87c79a747f19e34f66d9188ec707b4">is_proc</a>(x) || <a class="code" href="eval_8c.html#a97333f57ba4acc2d45552810bb446443">is_fproc</a>(x))); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[1].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>; }</div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a3f8efb4d8940c04fb58ed9690cea9500">  168</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#acba653f5a2bae36ef1eb70cdb750a466">get_proc_env</a>(<a class="code" href="structcell.html">cell</a> *x)       { assert(x &amp;&amp; (<a class="code" href="eval_8c.html#a3e87c79a747f19e34f66d9188ec707b4">is_proc</a>(x) || <a class="code" href="eval_8c.html#a97333f57ba4acc2d45552810bb446443">is_fproc</a>(x))); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[2].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>; }</div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a0b68748b2c9b7992d10103f4d51e5850">  169</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#ae8aeddf9982a71be4f996d0b6b9412da">get_func_docstring</a>(<a class="code" href="structcell.html">cell</a> *x) { assert(x &amp;&amp; <a class="code" href="eval_8c.html#a700ce22d8400fff0f20f01a4c87945ef">is_func</a>(x));    <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#a738a832f18035b88cb99a8340afa2a42">is_subr</a>(x) ? x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[2].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a> : x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[4].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>; }</div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a57d6d6c3593bea0565f93dd5fbd80143">  170</a></span>&#160;<span class="keywordtype">char</span> *<a class="code" href="eval_8c.html#ad66a88f8d5a8269a5979a3ff3cd6dc9c">get_func_format</a>(<a class="code" href="structcell.html">cell</a> *x)    { assert(x &amp;&amp; <a class="code" href="eval_8c.html#a700ce22d8400fff0f20f01a4c87945ef">is_func</a>(x));    <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#a738a832f18035b88cb99a8340afa2a42">is_subr</a>(x) ? x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[1].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a> : x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[3].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>; }</div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a51f970e9cf9a169b4a532fe46f6c76e8">  171</a></span>&#160;<a class="code" href="structio.html">io</a>   *<a class="code" href="eval_8c.html#a1e031f16744f26d8d602762fcddacbd6">get_io</a>(<a class="code" href="structcell.html">cell</a> *x)             { assert(x &amp;&amp; x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aedd9974ef2207e0a03e0717dcb9e2269">IO</a>); <span class="keywordflow">return</span> (<a class="code" href="structio.html">io</a>*)(x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[0].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>); }</div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a47df04c76fc4e74d0057bf92de15f0c5">  172</a></span>&#160;<span class="keywordtype">char</span> *<a class="code" href="eval_8c.html#ab5e9cb7764d5c55ec7cc56c9ee8b3f7d">get_sym</a>(<a class="code" href="structcell.html">cell</a> *x)            { assert(x &amp;&amp; <a class="code" href="eval_8c.html#a7e02011ab7a447149e025d7e83f64a17">is_asciiz</a>(x));  <span class="keywordflow">return</span> (<span class="keywordtype">char</span> *)(x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[0].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>); }</div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a93d3d688e1eb15b0b1af62dd8e7834bd">  173</a></span>&#160;<span class="keywordtype">char</span> *<a class="code" href="eval_8c.html#ace8b03027f8c7fdd65fb3d08f4dac22a">get_str</a>(<a class="code" href="structcell.html">cell</a> *x)            { assert(x &amp;&amp; <a class="code" href="eval_8c.html#a7e02011ab7a447149e025d7e83f64a17">is_asciiz</a>(x));  <span class="keywordflow">return</span> (<span class="keywordtype">char</span> *)(x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[0].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>); }</div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a112503b41033f941de05fb2690bf5973">  174</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="eval_8c.html#aedf19d28e0d0b3eefbafb1bc7f702f06">get_user</a>(<a class="code" href="structcell.html">cell</a> *x)           { assert(x &amp;&amp; x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a19f80321835bd625e84101dc8fe164c1">USERDEF</a>); <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)(x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[0].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>); }</div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a6a67a331afeae2a9d330ef9b421a0be8">  175</a></span>&#160;<span class="keywordtype">int</span>   <a class="code" href="eval_8c.html#a4a8c06dcbe437b8ae5e41d7dff7db1ec">get_user_type</a>(<a class="code" href="structcell.html">cell</a> *x)      { assert(x &amp;&amp; x-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a> == <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a19f80321835bd625e84101dc8fe164c1">USERDEF</a>); <span class="keywordflow">return</span> (intptr_t)x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[1].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>; }</div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="liblisp_8h.html#af1dd7fe001614bf1b92c33444f6873ce">  176</a></span>&#160;<a class="code" href="structhashtable.html">hashtable</a> *<a class="code" href="eval_8c.html#a4c2c1e795a1dc029947dabddcb0ec37a">get_hash</a>(<a class="code" href="structcell.html">cell</a> *x)      { assert(x &amp;&amp; <a class="code" href="eval_8c.html#a5f17a4741e9dd9175a02e4ef29231af7">is_hash</a>(x));     <span class="keywordflow">return</span> (<a class="code" href="structhashtable.html">hashtable</a> *)(x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[0].<a class="code" href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">v</a>); }</div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="liblisp_8h.html#adcc92b6fd1688fead9c68134023af6d7">  177</a></span>&#160;<a class="code" href="liblisp_8h.html#a1a979c161eb5ec8e01819e10ac6e25a9">lfloat</a> <a class="code" href="eval_8c.html#a5a3732159abdfdde27b30f3a7a23d167">get_float</a>(<a class="code" href="structcell.html">cell</a> *x)         { assert(x &amp;&amp; <a class="code" href="eval_8c.html#a3e267767ffe98a449b4733bee7f49c0b">is_floating</a>(x)); <span class="keywordflow">return</span> x-&gt;<a class="code" href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">p</a>[0].<a class="code" href="unioncell__data.html#a33c4da3d6d24d8b1ce461dd815991d43">f</a>; }</div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a05fa2b4d17c4c70c0f1449a2ef41916a">  178</a></span>&#160;intptr_t <a class="code" href="eval_8c.html#aec3d96c94194db301b404722f71627f4">get_a2i</a>(<a class="code" href="structcell.html">cell</a> *x) { assert(x &amp;&amp; <a class="code" href="eval_8c.html#ab1ac0398b17f5d69ed568b042e6e8191">is_arith</a>(x));</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;       <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#a673a7bd83441e5bf2f2e9a9cf17b4dbb">is_int</a>(x) ? <a class="code" href="eval_8c.html#a7ce0e3258bc81559be6fde7b1e5d9f8a">get_int</a>(x) : (intptr_t) <a class="code" href="eval_8c.html#a5a3732159abdfdde27b30f3a7a23d167">get_float</a>(x);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="liblisp_8h.html#ae8868b4f80a9d6fb71666ea523059a9d">  182</a></span>&#160;<a class="code" href="liblisp_8h.html#a1a979c161eb5ec8e01819e10ac6e25a9">lfloat</a> <a class="code" href="eval_8c.html#a5644903f316b4d59b22e782f29e9abb6">get_a2f</a>(<a class="code" href="structcell.html">cell</a> *x) { assert(x &amp;&amp; <a class="code" href="eval_8c.html#ab1ac0398b17f5d69ed568b042e6e8191">is_arith</a>(x));</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;       <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#a3e267767ffe98a449b4733bee7f49c0b">is_floating</a>(x) ? <a class="code" href="eval_8c.html#a5a3732159abdfdde27b30f3a7a23d167">get_float</a>(x) : (<a class="code" href="liblisp_8h.html#a1a979c161eb5ec8e01819e10ac6e25a9">lfloat</a>) <a class="code" href="eval_8c.html#a7ce0e3258bc81559be6fde7b1e5d9f8a">get_int</a>(x);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a0f22f42cd000b6b82c48c3fac0b8a439">  186</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="eval_8c.html#a6e8b6cafc2f267d998dadc68665c2300">is_in</a>(<a class="code" href="structcell.html">cell</a> *x)  { assert(x); <span class="keywordflow">return</span> (x &amp;&amp; <a class="code" href="eval_8c.html#a41011ffe658293cca3d76c16e2af5e57">is_io</a>(x) &amp;&amp; <a class="code" href="io_8c.html#a2e31ac9d0ce2287367926c3ce55930e9">io_is_in</a>(<a class="code" href="eval_8c.html#a1e031f16744f26d8d602762fcddacbd6">get_io</a>(x)))  ? 1 : 0; }</div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a963ca04fb6478f53d48c44ee398affe1">  187</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="eval_8c.html#a6d713271349299269de6a6833b407573">is_out</a>(<a class="code" href="structcell.html">cell</a> *x) { assert(x); <span class="keywordflow">return</span> (x &amp;&amp; <a class="code" href="eval_8c.html#a41011ffe658293cca3d76c16e2af5e57">is_io</a>(x) &amp;&amp; <a class="code" href="io_8c.html#afc6033ee825a1c01a8c99a7937cdd9f9">io_is_out</a>(<a class="code" href="eval_8c.html#a1e031f16744f26d8d602762fcddacbd6">get_io</a>(x))) ? 1 : 0; }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="liblisp_8h.html#ae4c3c3dcdd6e738aae7ee77a51a60445">  189</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="eval_8c.html#adcf89e01464e725502e2b45c08fcbe99">new_user_defined_type</a>(<a class="code" href="structlisp.html">lisp</a> *l, <a class="code" href="liblisp_8h.html#ac903e89b90686ec20457dad61eefdc0b">ud_free</a> f, <a class="code" href="liblisp_8h.html#abb20edbd57998ee7900ac4a2d2050a28">ud_mark</a> m, <a class="code" href="liblisp_8h.html#ac48a67e312a4ae6bcdb18530e3d096af">ud_equal</a> e, <a class="code" href="liblisp_8h.html#a5dacd906e9f76cd204a053595cc77406">ud_print</a> p) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">if</span>(l-&gt;<a class="code" href="structlisp.html#ac222191fb76b3964f4e78c1217b68333">user_defined_types_used</a> &gt;= <a class="code" href="private_8h.html#a07d2450ca8cfb31e79703d20c8851de7">MAX_USER_TYPES</a>) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        l-&gt;<a class="code" href="structlisp.html#aedc3b51ae2087600c591b7837e9558dc">ufuncs</a>[l-&gt;<a class="code" href="structlisp.html#ac222191fb76b3964f4e78c1217b68333">user_defined_types_used</a>].<a class="code" href="structuserdef__funcs.html#a2e2d36c798f6a36ef6c1cd21fc6f8444">free</a>  = f;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        l-&gt;<a class="code" href="structlisp.html#aedc3b51ae2087600c591b7837e9558dc">ufuncs</a>[l-&gt;<a class="code" href="structlisp.html#ac222191fb76b3964f4e78c1217b68333">user_defined_types_used</a>].<a class="code" href="structuserdef__funcs.html#ad992374330ede9ac007a785f0ea954bf">mark</a>  = m;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        l-&gt;<a class="code" href="structlisp.html#aedc3b51ae2087600c591b7837e9558dc">ufuncs</a>[l-&gt;<a class="code" href="structlisp.html#ac222191fb76b3964f4e78c1217b68333">user_defined_types_used</a>].<a class="code" href="structuserdef__funcs.html#ae0e7d0cd916f1d1b430978306fc69c14">equal</a> = e;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        l-&gt;<a class="code" href="structlisp.html#aedc3b51ae2087600c591b7837e9558dc">ufuncs</a>[l-&gt;<a class="code" href="structlisp.html#ac222191fb76b3964f4e78c1217b68333">user_defined_types_used</a>].<a class="code" href="structuserdef__funcs.html#a1686f0964fd0d2f16cee5b3fd5f979ae">print</a> = p;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">return</span> l-&gt;<a class="code" href="structlisp.html#ac222191fb76b3964f4e78c1217b68333">user_defined_types_used</a>++;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="liblisp_8h.html#a0e33fbe52e7eab37b861e443f5189583">  198</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#a1f167ad7898be452cce85eba31228f13">extend</a>(<a class="code" href="structlisp.html">lisp</a> *l, <a class="code" href="structcell.html">cell</a> *env, <a class="code" href="structcell.html">cell</a> *sym, <a class="code" href="structcell.html">cell</a> *val) { </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(l, <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(l, sym, val), env); </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="liblisp_8h.html#ae03820ab45c08184b36f7c09f2174cf5">  202</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#a3953e85df7e0683572dadb22c4b3fc67">intern</a>(<a class="code" href="structlisp.html">lisp</a> *l, <span class="keywordtype">char</span> *name) { assert(l &amp;&amp; name);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a class="code" href="structcell.html">cell</a> *op = <a class="code" href="hash_8c.html#af44742328e5ce904a2d0e931680d6315">hash_lookup</a>(<a class="code" href="eval_8c.html#a4c2c1e795a1dc029947dabddcb0ec37a">get_hash</a>(l-&gt;<a class="code" href="structlisp.html#aa6430995f17ac725a9885d3ce8c99dd4">all_symbols</a>), name);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">if</span>(op) <span class="keywordflow">return</span> op;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        op = <a class="code" href="eval_8c.html#adfde0b3c79a0ba5ea6c9ad14ed3b17b5">mk_sym</a>(l, name);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="hash_8c.html#a3a8679e6ef9ea2850ff86f4efd221b7f">hash_insert</a>(<a class="code" href="eval_8c.html#a4c2c1e795a1dc029947dabddcb0ec37a">get_hash</a>(l-&gt;<a class="code" href="structlisp.html#aa6430995f17ac725a9885d3ce8c99dd4">all_symbols</a>), name, op);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">return</span> op;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">/***************************** environment ************************************/</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="eval_8c.html#aab52d60922b67b936406ba829ff980ab">  212</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#aab52d60922b67b936406ba829ff980ab">multiple_extend</a>(<a class="code" href="structlisp.html">lisp</a> *l, <a class="code" href="structcell.html">cell</a> *env, <a class="code" href="structcell.html">cell</a> *syms, <a class="code" href="structcell.html">cell</a> *vals) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        assert(l &amp;&amp; env &amp;&amp; syms &amp;&amp; vals);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">for</span>(;!<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(syms); syms = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(syms), vals = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(vals))</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                env = <a class="code" href="eval_8c.html#a1f167ad7898be452cce85eba31228f13">extend</a>(l, env, <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(syms), <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(vals));</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">return</span> env;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="private_8h.html#a7051b14e8916ee8be6ae107ae8b13756">  219</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#a7051b14e8916ee8be6ae107ae8b13756">extend_top</a>(<a class="code" href="structlisp.html">lisp</a> *l, <a class="code" href="structcell.html">cell</a> *sym, <a class="code" href="structcell.html">cell</a> *val) { assert(l &amp;&amp; sym &amp;&amp; val);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="hash_8c.html#a3a8679e6ef9ea2850ff86f4efd221b7f">hash_insert</a>(<a class="code" href="eval_8c.html#a4c2c1e795a1dc029947dabddcb0ec37a">get_hash</a>(l-&gt;<a class="code" href="structlisp.html#a6413cfa291eb3d522999341a1e060976">top_hash</a>), <a class="code" href="eval_8c.html#ace8b03027f8c7fdd65fb3d08f4dac22a">get_str</a>(sym), <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(l, sym, val)) &lt; 0)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                <a class="code" href="liblisp_8h.html#a55fbbe06f70eed969112255cab922049">HALT</a>(l, <span class="stringliteral">&quot;\&quot;%s\&quot;&quot;</span>, <span class="stringliteral">&quot;out of memory&quot;</span>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="private_8h.html#a929fd9fdc7d2eebffe9c72add3fe946f">  227</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#a929fd9fdc7d2eebffe9c72add3fe946f">assoc</a>(<a class="code" href="structcell.html">cell</a> *key, <a class="code" href="structcell.html">cell</a> *alist) { assert(key &amp;&amp; alist);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="structcell.html">cell</a> *lookup;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">for</span>(;!<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(alist); alist = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(alist))</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(alist))) { <span class="comment">/*normal assoc*/</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a7ce0e3258bc81559be6fde7b1e5d9f8a">get_int</a>(<a class="code" href="liblisp_8h.html#a1bc2ee49cf37b33e6ece1f205316b9b4">CAAR</a>(alist)) == <a class="code" href="eval_8c.html#a7ce0e3258bc81559be6fde7b1e5d9f8a">get_int</a>(key)) </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(alist);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a5f17a4741e9dd9175a02e4ef29231af7">is_hash</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(alist)) &amp;&amp; <a class="code" href="eval_8c.html#a7e02011ab7a447149e025d7e83f64a17">is_asciiz</a>(key)) { <span class="comment">/*assoc extended with hashes*/</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                        <span class="keywordflow">if</span>((lookup = <a class="code" href="hash_8c.html#af44742328e5ce904a2d0e931680d6315">hash_lookup</a>(<a class="code" href="eval_8c.html#a4c2c1e795a1dc029947dabddcb0ec37a">get_hash</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(alist)), <a class="code" href="eval_8c.html#ace8b03027f8c7fdd65fb3d08f4dac22a">get_str</a>(key))))</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                <span class="keywordflow">return</span> lookup; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="liblisp_8h.html#adaa3b303ab3dab9d51da22fd2b5297e9">gsym_nil</a>();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">/******************************** evaluator ***********************************/</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="eval_8c.html#adb2d13d2dc858c957db731e5559b2f1b">  254</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#adb2d13d2dc858c957db731e5559b2f1b">compiler</a>(<a class="code" href="structlisp.html">lisp</a> *l, <span class="keywordtype">unsigned</span> depth, <a class="code" href="structcell.html">cell</a> *exp, <a class="code" href="structcell.html">cell</a> *env) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <a class="code" href="structcell.html">cell</a> *head, *op, *tmp, *code = <a class="code" href="liblisp_8h.html#adaa3b303ab3dab9d51da22fd2b5297e9">gsym_nil</a>();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">if</span>(depth &gt; <a class="code" href="private_8h.html#a4e3b689e9483994cfcd85954cba23338">MAX_RECURSION_DEPTH</a>)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%y&#39;recursion-depth-reached%t %d&quot;</span>, depth);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#aa90bd79c45d06dfed26429e24d1958b2">is_sym</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp)) &amp;&amp; !<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(tmp = <a class="code" href="eval_8c.html#a929fd9fdc7d2eebffe9c72add3fe946f">assoc</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp), env))) </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                op = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(tmp);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp)))</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                op = <a class="code" href="eval_8c.html#adb2d13d2dc858c957db731e5559b2f1b">compiler</a>(l, depth + 1, <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp), env);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                op = <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        head = op = <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(l, op, <a class="code" href="liblisp_8h.html#adaa3b303ab3dab9d51da22fd2b5297e9">gsym_nil</a>());</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        exp = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(exp);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keywordflow">for</span>(i = 1; !<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(exp); exp = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(exp), op = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(op), i++) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                code = <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#aa90bd79c45d06dfed26429e24d1958b2">is_sym</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp)) &amp;&amp; !<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(tmp = <a class="code" href="eval_8c.html#a929fd9fdc7d2eebffe9c72add3fe946f">assoc</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp), env)))</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                        code = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(tmp);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp)))</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                        code = <a class="code" href="eval_8c.html#adb2d13d2dc858c957db731e5559b2f1b">compiler</a>(l, depth+1, <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp), env);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <a class="code" href="eval_8c.html#aa0ed6533f101d55e1de0d35c2cb5a3a6">set_cdr</a>(op, <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(l, code, <a class="code" href="liblisp_8h.html#adaa3b303ab3dab9d51da22fd2b5297e9">gsym_nil</a>()));</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="eval_8c.html#a4b702fae0cca30e63172477748be82cb">fix_list_len</a>(head, i);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">return</span> head;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="keyword">static</span> <a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#ad2dd481f190ada2c926023712e2b7c3f">evlis</a>(<a class="code" href="structlisp.html">lisp</a> *l, <span class="keywordtype">unsigned</span> depth, <a class="code" href="structcell.html">cell</a> *exps, <a class="code" href="structcell.html">cell</a> *env);</div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="private_8h.html#aee3c09262c4e325bb1b3495762cbfc34">  282</a></span>&#160;<a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#aee3c09262c4e325bb1b3495762cbfc34">eval</a>(<a class="code" href="structlisp.html">lisp</a> *l, <span class="keywordtype">unsigned</span> depth, <a class="code" href="structcell.html">cell</a> *exp, <a class="code" href="structcell.html">cell</a> *env) { assert(l);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordtype">size_t</span> gc_stack_save = l-&gt;<a class="code" href="structlisp.html#a7e65bb91cc62d0a494097281a6b3a5eb">gc_stack_used</a>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <a class="code" href="structcell.html">cell</a> *tmp, *first, *proc, *vals = <a class="code" href="liblisp_8h.html#adaa3b303ab3dab9d51da22fd2b5297e9">gsym_nil</a>();</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">if</span>(depth &gt; <a class="code" href="private_8h.html#a4e3b689e9483994cfcd85954cba23338">MAX_RECURSION_DEPTH</a>)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%y&#39;recursion-depth-reached%t %d&quot;</span>, depth);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="gc_8c.html#a11b4613c9b36ca7a145c8fb466848c2c">gc_add</a>(l, exp);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="gc_8c.html#a11b4613c9b36ca7a145c8fb466848c2c">gc_add</a>(l, env);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        tail:</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">if</span>(!exp || !env) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">if</span>(l-&gt;<a class="code" href="structlisp.html#af353f07ba56b5a800d418fd96deb8a16">trace_on</a>) <a class="code" href="liblisp_8h.html#a9474a02d053abd00ddc6734be551dd0f">lisp_printf</a>(l, <a class="code" href="liblisp_8h.html#a8e2c1e1ecb6040efd57ea0aad82892e2">lisp_get_logging</a>(l), 1, <span class="stringliteral">&quot;(%ytrace%t %S)\n&quot;</span>, exp); </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(exp)) <span class="keywordflow">return</span> <a class="code" href="liblisp_8h.html#adaa3b303ab3dab9d51da22fd2b5297e9">gsym_nil</a>();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">if</span>(l-&gt;<a class="code" href="structlisp.html#aec0bc5af23761bb6f23a483cfc3f6ed9">sig</a>) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                l-&gt;<a class="code" href="structlisp.html#aec0bc5af23761bb6f23a483cfc3f6ed9">sig</a> = 0;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <a class="code" href="liblisp_8h.html#a716296be19860a648f72ee1b7ed5b473">lisp_throw</a>(l, 1);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">switch</span>(exp-&gt;<a class="code" href="structcell.html#a3051324039cd8076d6cafc6395dee24b">type</a>) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a5a063e265d2ac903b6808e9f6e73ec46">INTEGER</a>: <span class="keywordflow">case</span> <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a5021f1b3acf88c9d7763faee3ea926d2">SUBR</a>: <span class="keywordflow">case</span> <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a616db68dab196835059ff976d67fac33">PROC</a>:  <span class="keywordflow">case</span> <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aee847e634a4297b274316de8a8ca9921">STRING</a>: <span class="keywordflow">case</span> <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a9cf4a0866224b0bb4a7a895da27c9c4c">FLOAT</a>:</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aedd9974ef2207e0a03e0717dcb9e2269">IO</a>:      <span class="keywordflow">case</span> <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a3463ba81467a175d3608388e36aacab5">HASH</a>: <span class="keywordflow">case</span> <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a1c4e8663b63d920e751d99c8a81c55f7">FPROC</a>: <span class="keywordflow">case</span> <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a19f80321835bd625e84101dc8fe164c1">USERDEF</a>:</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <span class="keywordflow">return</span> exp; <span class="comment">/*self evaluating types*/</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834ae3d30ffaffa3c06ed917e565dda1fbc5">SYMBOL</a>:</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <span class="comment">/* checks could be added here so special forms are not looked</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">                 * up, but only if this improves the speed of things*/</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(tmp = <a class="code" href="eval_8c.html#a929fd9fdc7d2eebffe9c72add3fe946f">assoc</a>(exp, env)))</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                        <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%r\&quot;unbound symbol\&quot;%t\n &#39;%s&quot;</span>, <a class="code" href="eval_8c.html#ab5e9cb7764d5c55ec7cc56c9ee8b3f7d">get_sym</a>(exp));</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(tmp);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a25b8c53f9baa8274b0d8008fd46be538">CONS</a>:</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                first = <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                exp   = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(exp);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                <span class="keywordflow">if</span>(!<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(exp) &amp;&amp; !<a class="code" href="eval_8c.html#aeb5730e0409d2651b978e4df154cc320">is_proper_cons</a>(exp))</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%y&#39;evaluation\n %r\&quot;cannot eval dotted pair\&quot;%t\n &#39;%S&quot;</span>, exp);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(first))</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                        first = <a class="code" href="eval_8c.html#aee3c09262c4e325bb1b3495762cbfc34">eval</a>(l, depth+1, first, env);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <span class="keywordflow">if</span>(first == l-&gt;iif) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                        <a class="code" href="liblisp_8h.html#aacca2fcbbf72427ecb4c9062d11f8f7e">VALIDATE</a>(l, <span class="stringliteral">&quot;if&quot;</span>, 3, <span class="stringliteral">&quot;A A A&quot;</span>, exp, 1);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                        exp = !<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(<a class="code" href="eval_8c.html#aee3c09262c4e325bb1b3495762cbfc34">eval</a>(l, depth+1, <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp), env)) ?</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                <a class="code" href="liblisp_8h.html#ae73bb0b3e06dcfa654bf6a476c1a9ae6">CADR</a>(exp) :</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                <a class="code" href="liblisp_8h.html#ab76a53ad650d79f935ea7682ad657af9">CADDR</a>(exp);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                        <span class="keywordflow">goto</span> tail;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                <span class="keywordflow">if</span>(first == l-&gt;lambda) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                        <a class="code" href="structcell.html">cell</a> *doc;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a5a828623d56160e42f52235770c12e5b">get_length</a>(exp) &lt; 2)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                                <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%y&#39;lambda\n %r\&quot;argc &lt; 2\&quot;%t\n &#39;%S\&quot;&quot;</span>, exp);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                        <span class="keywordflow">if</span>(!<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp)) &amp;&amp; <a class="code" href="eval_8c.html#a302a5e3f8bf82b584dc6df70e24483cf">is_str</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp))) { <span class="comment">/*have docstring*/</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                                doc = <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                                exp = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(exp);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                                doc = l-&gt;<a class="code" href="structlisp.html#a72770ae6a2d1685b8e06e0a5df11ecbf">empty_docstr</a>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                        }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                        <span class="keywordflow">if</span>(!<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp)) &amp;&amp; !<a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp)))</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                                <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;&#39;lambda\n \&quot;not an argument list (or nil)\&quot;\n &#39;%S&quot;</span>, exp);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                        <span class="keywordflow">for</span>(tmp = <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp); !<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(tmp); tmp = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(tmp)) </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                                <span class="keywordflow">if</span>(!<a class="code" href="eval_8c.html#aa90bd79c45d06dfed26429e24d1958b2">is_sym</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(tmp)) || !<a class="code" href="eval_8c.html#aeb5730e0409d2651b978e4df154cc320">is_proper_cons</a>(tmp))</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                                        <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%y&#39;lambda\n %r\&quot;expected only symbols (or nil) as arguments\&quot;%t\n &#39;%S&quot;</span>, exp);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                        l-&gt;<a class="code" href="structlisp.html#a7e65bb91cc62d0a494097281a6b3a5eb">gc_stack_used</a> = gc_stack_save;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                        tmp = <a class="code" href="eval_8c.html#aeb1c1daea46ede355bd0f5284daa0958">mk_proc</a>(l, <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp), <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(exp), env, doc);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="gc_8c.html#a11b4613c9b36ca7a145c8fb466848c2c">gc_add</a>(l, tmp);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="keywordflow">if</span>(first == l-&gt;flambda) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a5a828623d56160e42f52235770c12e5b">get_length</a>(exp) &lt; 3 || !<a class="code" href="eval_8c.html#a302a5e3f8bf82b584dc6df70e24483cf">is_str</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp)) || !<a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(<a class="code" href="liblisp_8h.html#ae73bb0b3e06dcfa654bf6a476c1a9ae6">CADR</a>(exp)))</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%y&#39;flambda\n %r\&quot;expected (string (arg) code...)\&quot;%t\n &#39;%S&quot;</span>, exp);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                        <span class="keywordflow">if</span>(!<a class="code" href="eval_8c.html#a77329a949eaf7e17a1b198d75ef3b3cc">cklen</a>(<a class="code" href="liblisp_8h.html#ae73bb0b3e06dcfa654bf6a476c1a9ae6">CADR</a>(exp), 1) || !<a class="code" href="eval_8c.html#aa90bd79c45d06dfed26429e24d1958b2">is_sym</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(<a class="code" href="liblisp_8h.html#ae73bb0b3e06dcfa654bf6a476c1a9ae6">CADR</a>(exp)))) </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                                <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%y&#39;flambda\n %r\&quot;only one symbol argument allowed\&quot;%t\n &#39;%S&quot;</span>, exp);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                        l-&gt;<a class="code" href="structlisp.html#a7e65bb91cc62d0a494097281a6b3a5eb">gc_stack_used</a> = gc_stack_save;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="gc_8c.html#a11b4613c9b36ca7a145c8fb466848c2c">gc_add</a>(l, <a class="code" href="eval_8c.html#a6e5a3510012834cf953314a4eb9d4816">mk_fproc</a>(l, <a class="code" href="liblisp_8h.html#ae73bb0b3e06dcfa654bf6a476c1a9ae6">CADR</a>(exp), <a class="code" href="liblisp_8h.html#a084e83355a56f260f5a85e336fbb1a14">CDDR</a>(exp), env, <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp)));</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                <span class="keywordflow">if</span>(first == l-&gt;cond) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a77329a949eaf7e17a1b198d75ef3b3cc">cklen</a>(exp, 0)) <span class="keywordflow">return</span> l-&gt;nil;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                        <span class="keywordflow">for</span>(tmp = l-&gt;nil; <a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(tmp) &amp;&amp; !<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(exp); exp=<a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(exp)) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                                <span class="keywordflow">if</span>(!<a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp))) <span class="keywordflow">return</span> l-&gt;nil;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                tmp = <a class="code" href="eval_8c.html#aee3c09262c4e325bb1b3495762cbfc34">eval</a>(l, depth+1, <a class="code" href="liblisp_8h.html#a1bc2ee49cf37b33e6ece1f205316b9b4">CAAR</a>(exp), env);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                                <span class="keywordflow">if</span>(!<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(tmp)) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                                        exp = <a class="code" href="liblisp_8h.html#a23b79ecd1e799550fa3dac7706da97a9">CADAR</a>(exp);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                                        <span class="keywordflow">goto</span> tail;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                        }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                        <span class="keywordflow">return</span> l-&gt;nil;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="keywordflow">if</span>(first == l-&gt;quote) <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                <span class="keywordflow">if</span>(first == l-&gt;ret)   <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(l, l-&gt;ret, </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                                               <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(l, </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                                                 <a class="code" href="eval_8c.html#aee3c09262c4e325bb1b3495762cbfc34">eval</a>(l, depth+1, <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp), env), l-&gt;nil));</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <span class="keywordflow">if</span>(first == l-&gt;define) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                        <a class="code" href="liblisp_8h.html#aacca2fcbbf72427ecb4c9062d11f8f7e">VALIDATE</a>(l, <span class="stringliteral">&quot;define&quot;</span>, 2, <span class="stringliteral">&quot;s A&quot;</span>, exp, 1);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                        l-&gt;<a class="code" href="structlisp.html#a7e65bb91cc62d0a494097281a6b3a5eb">gc_stack_used</a> = gc_stack_save;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="gc_8c.html#a11b4613c9b36ca7a145c8fb466848c2c">gc_add</a>(l, <a class="code" href="eval_8c.html#a7051b14e8916ee8be6ae107ae8b13756">extend_top</a>(l, <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp),</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                              <a class="code" href="eval_8c.html#aee3c09262c4e325bb1b3495762cbfc34">eval</a>(l, depth+1, <a class="code" href="liblisp_8h.html#ae73bb0b3e06dcfa654bf6a476c1a9ae6">CADR</a>(exp), env)));</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <span class="keywordflow">if</span>(first == l-&gt;set) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                        <a class="code" href="structcell.html">cell</a> *pair, *newval;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                        <a class="code" href="liblisp_8h.html#aacca2fcbbf72427ecb4c9062d11f8f7e">VALIDATE</a>(l, <span class="stringliteral">&quot;set!&quot;</span>, 2, <span class="stringliteral">&quot;s A&quot;</span>, exp, 1);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(pair = <a class="code" href="eval_8c.html#a929fd9fdc7d2eebffe9c72add3fe946f">assoc</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp), env)))</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                                <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%y&#39;set!\n %r\&quot;undefined variable\&quot;%t\n &#39;%S&quot;</span>, exp);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                        newval = <a class="code" href="eval_8c.html#aee3c09262c4e325bb1b3495762cbfc34">eval</a>(l, depth+1, <a class="code" href="liblisp_8h.html#ae73bb0b3e06dcfa654bf6a476c1a9ae6">CADR</a>(exp), env);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                        <a class="code" href="eval_8c.html#aa0ed6533f101d55e1de0d35c2cb5a3a6">set_cdr</a>(pair, newval);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                        <span class="keywordflow">return</span> newval;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <span class="keywordflow">if</span>(first == l-&gt;compile) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                        <a class="code" href="structcell.html">cell</a> *doc;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                        <a class="code" href="liblisp_8h.html#aacca2fcbbf72427ecb4c9062d11f8f7e">VALIDATE</a>(l, <span class="stringliteral">&quot;compile&quot;</span>, 3, <span class="stringliteral">&quot;Z L c&quot;</span>, exp, 1);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                        doc = <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                        <span class="keywordflow">for</span>(tmp = <a class="code" href="liblisp_8h.html#ae73bb0b3e06dcfa654bf6a476c1a9ae6">CADR</a>(exp); !<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(tmp); tmp = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(tmp)) </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                                <span class="keywordflow">if</span>(!<a class="code" href="eval_8c.html#aa90bd79c45d06dfed26429e24d1958b2">is_sym</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(tmp)) || !<a class="code" href="eval_8c.html#aeb5730e0409d2651b978e4df154cc320">is_proper_cons</a>(tmp))</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                                        <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%y&#39;lambda\n %r\&quot;expected only symbols (or nil) as arguments\&quot;%t\n %S&quot;</span>, exp);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                        tmp = <a class="code" href="eval_8c.html#adb2d13d2dc858c957db731e5559b2f1b">compiler</a>(l, depth+1, <a class="code" href="liblisp_8h.html#ab76a53ad650d79f935ea7682ad657af9">CADDR</a>(exp), env);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#aeb1c1daea46ede355bd0f5284daa0958">mk_proc</a>(l, <a class="code" href="liblisp_8h.html#ae73bb0b3e06dcfa654bf6a476c1a9ae6">CADR</a>(exp), <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(l, tmp, <a class="code" href="liblisp_8h.html#adaa3b303ab3dab9d51da22fd2b5297e9">gsym_nil</a>()), env, doc);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <span class="keywordflow">if</span>(first == l-&gt;let) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                        <a class="code" href="structcell.html">cell</a> *r = NULL, *s = NULL;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a5a828623d56160e42f52235770c12e5b">get_length</a>(exp) &lt; 2)</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                  <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%y&#39;let\n %r\&quot;argc &lt; 2\&quot;%t\n &#39;%S&quot;</span>, exp);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                        tmp = exp;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                        <span class="keywordflow">for</span>(; !<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(<a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(exp)); exp = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(exp)) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                                <span class="keywordflow">if</span>(!<a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp)) || !<a class="code" href="eval_8c.html#a77329a949eaf7e17a1b198d75ef3b3cc">cklen</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp), 2))</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                   <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%y&#39;let\n %r\&quot;expected list of length 2\&quot;%t\n &#39;%S\n &#39;%S&quot;</span>,</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                                                   <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp), tmp);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                                s = env = <a class="code" href="eval_8c.html#a1f167ad7898be452cce85eba31228f13">extend</a>(l, env, <a class="code" href="liblisp_8h.html#a1bc2ee49cf37b33e6ece1f205316b9b4">CAAR</a>(exp), l-&gt;nil);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                                r = env = <a class="code" href="eval_8c.html#a1f167ad7898be452cce85eba31228f13">extend</a>(l, env, <a class="code" href="liblisp_8h.html#a1bc2ee49cf37b33e6ece1f205316b9b4">CAAR</a>(exp),</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                                        <a class="code" href="eval_8c.html#aee3c09262c4e325bb1b3495762cbfc34">eval</a>(l, depth + 1, <a class="code" href="liblisp_8h.html#a23b79ecd1e799550fa3dac7706da97a9">CADAR</a>(exp), env));</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                                <a class="code" href="eval_8c.html#aa0ed6533f101d55e1de0d35c2cb5a3a6">set_cdr</a>(<a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(s), <a class="code" href="liblisp_8h.html#a1bc56dc0e842fadd23db494933be8daa">CDAR</a>(r));</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                        }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#aee3c09262c4e325bb1b3495762cbfc34">eval</a>(l, depth+1, <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp), env);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                <span class="keywordflow">if</span>(first == l-&gt;progn) { </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                        <a class="code" href="structcell.html">cell</a> *head = exp, *tmp;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(exp)) <span class="keywordflow">return</span> l-&gt;nil;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                begin:  <span class="keywordflow">for</span>(exp = head;;) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                                <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(<a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(exp))) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                                      exp = <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                      <span class="keywordflow">goto</span> tail;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                                l-&gt;<a class="code" href="structlisp.html#a7e65bb91cc62d0a494097281a6b3a5eb">gc_stack_used</a> = gc_stack_save;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                                tmp = <a class="code" href="eval_8c.html#aee3c09262c4e325bb1b3495762cbfc34">eval</a>(l, depth + 1, <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exp), env);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                                <span class="keywordflow">if</span>(tmp == l-&gt;loop) <span class="keywordflow">goto</span> begin;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(tmp) &amp;&amp; <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(tmp) == l-&gt;ret)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                                        <span class="keywordflow">return</span> <a class="code" href="liblisp_8h.html#ae73bb0b3e06dcfa654bf6a476c1a9ae6">CADR</a>(tmp);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                                exp = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(exp);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                        }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                proc = <a class="code" href="eval_8c.html#aee3c09262c4e325bb1b3495762cbfc34">eval</a>(l, depth + 1, first, env);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a3e87c79a747f19e34f66d9188ec707b4">is_proc</a>(proc) || <a class="code" href="eval_8c.html#a738a832f18035b88cb99a8340afa2a42">is_subr</a>(proc)) { <span class="comment">/*eval their args*/</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        vals = <a class="code" href="eval_8c.html#ad2dd481f190ada2c926023712e2b7c3f">evlis</a>(l, depth + 1, exp, env);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a97333f57ba4acc2d45552810bb446443">is_fproc</a>(proc)) { <span class="comment">/*f-expr do not eval their args*/</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                        vals = <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(l, exp, l-&gt;nil);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                } <span class="keywordflow">else</span> { </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                        <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%r\&quot;not a procedure\&quot;%t\n &#39;%S&quot;</span>, first);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                l-&gt;<a class="code" href="structlisp.html#a72e56bb5ceabec3120c5aebd4fd4b707">cur_depth</a> = depth; <span class="comment">/*tucked away for function use*/</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                l-&gt;<a class="code" href="structlisp.html#acf3c0bcf9c21477c4c96fbc0ed83c7fd">cur_env</a>   = env;   <span class="comment">/*also tucked away*/</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a738a832f18035b88cb99a8340afa2a42">is_subr</a>(proc)) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                        l-&gt;<a class="code" href="structlisp.html#a7e65bb91cc62d0a494097281a6b3a5eb">gc_stack_used</a> = gc_stack_save;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                        <a class="code" href="gc_8c.html#a11b4613c9b36ca7a145c8fb466848c2c">gc_add</a>(l, proc);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                        <a class="code" href="gc_8c.html#a11b4613c9b36ca7a145c8fb466848c2c">gc_add</a>(l, vals);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                        <a class="code" href="liblisp_8h.html#a1fbc0c9de7ed4f17b8db4bc9c62c544d">lisp_validate_cell</a>(l, proc, vals, 1);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                        <span class="keywordflow">return</span> (*<a class="code" href="eval_8c.html#aa27c8240813919b7c0026d47ecc8d80e">get_subr</a>(proc))(l, vals);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a3e87c79a747f19e34f66d9188ec707b4">is_proc</a>(proc) || <a class="code" href="eval_8c.html#a97333f57ba4acc2d45552810bb446443">is_fproc</a>(proc)) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a5a828623d56160e42f52235770c12e5b">get_length</a>(<a class="code" href="eval_8c.html#a62ad9147fad87e2a8072489915ee4097">get_proc_args</a>(proc)) != <a class="code" href="eval_8c.html#a5a828623d56160e42f52235770c12e5b">get_length</a>(vals))</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                                <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%y&#39;lambda%t\n &#39;%S\n %y&#39;expected%t\n &#39;%S\n &#39;%S&quot;</span>, </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                                                <a class="code" href="eval_8c.html#ae8aeddf9982a71be4f996d0b6b9412da">get_func_docstring</a>(proc), </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                                                <a class="code" href="eval_8c.html#a62ad9147fad87e2a8072489915ee4097">get_proc_args</a>(proc), vals);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a5a828623d56160e42f52235770c12e5b">get_length</a>(<a class="code" href="eval_8c.html#a62ad9147fad87e2a8072489915ee4097">get_proc_args</a>(proc)))</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                env = <a class="code" href="eval_8c.html#aab52d60922b67b936406ba829ff980ab">multiple_extend</a>(l, </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                                       (<a class="code" href="eval_8c.html#ac131244b242a3ab9046ad1e6202c7617">dynamic_on</a> ? env : <a class="code" href="eval_8c.html#acba653f5a2bae36ef1eb70cdb750a466">get_proc_env</a>(proc)), </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                                         <a class="code" href="eval_8c.html#a62ad9147fad87e2a8072489915ee4097">get_proc_args</a>(proc), vals);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                        exp = <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(l, l-&gt;progn, <a class="code" href="eval_8c.html#ac81cb1e094eea029e6d6436c728b540b">get_proc_code</a>(proc));</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                        <span class="keywordflow">goto</span> tail;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%r\&quot;not a procedure\&quot;%t\n &#39;%S&quot;</span>, first);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aef2863a469df3ea6871d640e3669a2f2">INVALID</a>: </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">default</span>:     <a class="code" href="liblisp_8h.html#a55fbbe06f70eed969112255cab922049">HALT</a>(l, <span class="stringliteral">&quot;%r\&quot;%s\&quot;%t&quot;</span>, <span class="stringliteral">&quot;internal inconsistency: unknown type&quot;</span>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <a class="code" href="liblisp_8h.html#a55fbbe06f70eed969112255cab922049">HALT</a>(l, <span class="stringliteral">&quot;%r\&quot;%s\&quot;%t&quot;</span>, <span class="stringliteral">&quot;internal inconsistency: reached the unreachable&quot;</span>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">return</span> exp; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;}</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div>
<div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="eval_8c.html#ad2dd481f190ada2c926023712e2b7c3f">  465</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structcell.html">cell</a> *<a class="code" href="eval_8c.html#ad2dd481f190ada2c926023712e2b7c3f">evlis</a>(<a class="code" href="structlisp.html">lisp</a> *l, <span class="keywordtype">unsigned</span> depth, <a class="code" href="structcell.html">cell</a> *exps, <a class="code" href="structcell.html">cell</a> *env) { </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="structcell.html">cell</a> *op, *head, *start = exps;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        assert(l &amp;&amp; exps &amp;&amp; env);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(exps)) <span class="keywordflow">return</span> <a class="code" href="liblisp_8h.html#adaa3b303ab3dab9d51da22fd2b5297e9">gsym_nil</a>();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        op = <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exps);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        exps = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(exps);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        head = op = <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(l, <a class="code" href="eval_8c.html#aee3c09262c4e325bb1b3495762cbfc34">eval</a>(l, depth+1, op, env), <a class="code" href="liblisp_8h.html#adaa3b303ab3dab9d51da22fd2b5297e9">gsym_nil</a>());</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(exps) &amp;&amp; !<a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(exps))</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">for</span>(i = 1; !<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(exps); exps = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(exps), op = <a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(op), i++) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                <span class="keywordflow">if</span>(!<a class="code" href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a>(<a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(exps)) &amp;&amp; !<a class="code" href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a>(<a class="code" href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a>(exps)))</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                <a class="code" href="eval_8c.html#aa0ed6533f101d55e1de0d35c2cb5a3a6">set_cdr</a>(op, <a class="code" href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a>(l, <a class="code" href="eval_8c.html#aee3c09262c4e325bb1b3495762cbfc34">eval</a>(l, depth+1, <a class="code" href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a>(exps), env), <a class="code" href="liblisp_8h.html#adaa3b303ab3dab9d51da22fd2b5297e9">gsym_nil</a>()));</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <a class="code" href="eval_8c.html#a4b702fae0cca30e63172477748be82cb">fix_list_len</a>(head, i);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">return</span> head;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;fail:   <a class="code" href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a>(l, <span class="stringliteral">&quot;%r\&quot;evlis cannot eval dotted pairs\&quot;%t\n &#39;%S&quot;</span>, start);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="liblisp_8h.html#ad2839406c39c17cb42470eb827016272">gsym_error</a>();</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;}</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div>
<div class="ttc" id="eval_8c_html_a1e031f16744f26d8d602762fcddacbd6"><div class="ttname"><a href="eval_8c.html#a1e031f16744f26d8d602762fcddacbd6">get_io</a></div><div class="ttdeci">io * get_io(cell *x)</div><div class="ttdoc">get lisp cell to I/O stream </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00171">eval.c:171</a></div></div>
<div class="ttc" id="eval_8c_html_a7e02011ab7a447149e025d7e83f64a17"><div class="ttname"><a href="eval_8c.html#a7e02011ab7a447149e025d7e83f64a17">is_asciiz</a></div><div class="ttdeci">int is_asciiz(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a ASCII nul delimited string </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00085">eval.c:85</a></div></div>
<div class="ttc" id="eval_8c_html_a700ce22d8400fff0f20f01a4c87945ef"><div class="ttname"><a href="eval_8c.html#a700ce22d8400fff0f20f01a4c87945ef">is_func</a></div><div class="ttdeci">int is_func(cell *x)</div><div class="ttdoc">true if &#39;x&#39; can be applied (is a function) </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00087">eval.c:87</a></div></div>
<div class="ttc" id="eval_8c_html_a77329a949eaf7e17a1b198d75ef3b3cc"><div class="ttname"><a href="eval_8c.html#a77329a949eaf7e17a1b198d75ef3b3cc">cklen</a></div><div class="ttdeci">int cklen(cell *x, size_t expect)</div><div class="ttdoc">Given a lisp cell, check that its length field equals an expected value. </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00067">eval.c:67</a></div></div>
<div class="ttc" id="eval_8c_html_a691ee8a194e57ce78edc4a1c6885874c"><div class="ttname"><a href="eval_8c.html#a691ee8a194e57ce78edc4a1c6885874c">is_nil</a></div><div class="ttdeci">int is_nil(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is equal to nil </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00069">eval.c:69</a></div></div>
<div class="ttc" id="structlisp_html_aa6430995f17ac725a9885d3ce8c99dd4"><div class="ttname"><a href="structlisp.html#aa6430995f17ac725a9885d3ce8c99dd4">lisp::all_symbols</a></div><div class="ttdeci">cell * all_symbols</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00171">private.h:171</a></div></div>
<div class="ttc" id="eval_8c_html_a3e267767ffe98a449b4733bee7f49c0b"><div class="ttname"><a href="eval_8c.html#a3e267767ffe98a449b4733bee7f49c0b">is_floating</a></div><div class="ttdeci">int is_floating(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a floating point number </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00071">eval.c:71</a></div></div>
<div class="ttc" id="liblisp_8h_html_a1bc2ee49cf37b33e6ece1f205316b9b4"><div class="ttname"><a href="liblisp_8h.html#a1bc2ee49cf37b33e6ece1f205316b9b4">CAAR</a></div><div class="ttdeci">#define CAAR(X)</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l01516">liblisp.h:1516</a></div></div>
<div class="ttc" id="eval_8c_html_ac131244b242a3ab9046ad1e6202c7617"><div class="ttname"><a href="eval_8c.html#ac131244b242a3ab9046ad1e6202c7617">dynamic_on</a></div><div class="ttdeci">static const int dynamic_on</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00022">eval.c:22</a></div></div>
<div class="ttc" id="structlisp_html_af353f07ba56b5a800d418fd96deb8a16"><div class="ttname"><a href="structlisp.html#af353f07ba56b5a800d418fd96deb8a16">lisp::trace_on</a></div><div class="ttdeci">unsigned trace_on</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00193">private.h:193</a></div></div>
<div class="ttc" id="eval_8c_html_a97333f57ba4acc2d45552810bb446443"><div class="ttname"><a href="eval_8c.html#a97333f57ba4acc2d45552810bb446443">is_fproc</a></div><div class="ttdeci">int is_fproc(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a flambda procedure </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00076">eval.c:76</a></div></div>
<div class="ttc" id="structlisp_html_a7e65bb91cc62d0a494097281a6b3a5eb"><div class="ttname"><a href="structlisp.html#a7e65bb91cc62d0a494097281a6b3a5eb">lisp::gc_stack_used</a></div><div class="ttdeci">size_t gc_stack_used</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00183">private.h:183</a></div></div>
<div class="ttc" id="eval_8c_html_a49d097af835b416769efc7dbb77f00a4"><div class="ttname"><a href="eval_8c.html#a49d097af835b416769efc7dbb77f00a4">mk_float</a></div><div class="ttdeci">cell * mk_float(lisp *l, lfloat f)</div><div class="ttdoc">Make a lisp cell from a float. </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00152">eval.c:152</a></div></div>
<div class="ttc" id="eval_8c_html_a6e5a3510012834cf953314a4eb9d4816"><div class="ttname"><a href="eval_8c.html#a6e5a3510012834cf953314a4eb9d4816">mk_fproc</a></div><div class="ttdeci">cell * mk_fproc(lisp *l, cell *args, cell *code, cell *env, cell *doc)</div><div class="ttdoc">make a lisp F-expression cell, F-expressions are like lambdas except they do not evaluate their argum...</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00148">eval.c:148</a></div></div>
<div class="ttc" id="eval_8c_html_a39729411da5f19e4a8700ee4bedf613b"><div class="ttname"><a href="eval_8c.html#a39729411da5f19e4a8700ee4bedf613b">close_cell</a></div><div class="ttdeci">void close_cell(cell *x)</div><div class="ttdoc">close a cell (io and userdef only) </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00066">eval.c:66</a></div></div>
<div class="ttc" id="eval_8c_html_a4c2c1e795a1dc029947dabddcb0ec37a"><div class="ttname"><a href="eval_8c.html#a4c2c1e795a1dc029947dabddcb0ec37a">get_hash</a></div><div class="ttdeci">hashtable * get_hash(cell *x)</div><div class="ttdoc">get hash table from a lisp cell </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00176">eval.c:176</a></div></div>
<div class="ttc" id="structio_html"><div class="ttname"><a href="structio.html">io</a></div><div class="ttdoc">A structure that is used to wrap up the I/O operations of the lisp interpreter. </div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00117">private.h:117</a></div></div>
<div class="ttc" id="structuserdef__funcs_html_a2e2d36c798f6a36ef6c1cd21fc6f8444"><div class="ttname"><a href="structuserdef__funcs.html#a2e2d36c798f6a36ef6c1cd21fc6f8444">userdef_funcs::free</a></div><div class="ttdeci">ud_free free</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00157">private.h:157</a></div></div>
<div class="ttc" id="eval_8c_html_a929fd9fdc7d2eebffe9c72add3fe946f"><div class="ttname"><a href="eval_8c.html#a929fd9fdc7d2eebffe9c72add3fe946f">assoc</a></div><div class="ttdeci">cell * assoc(cell *key, cell *alist)</div><div class="ttdoc">find a key in an association list (a-list) </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00227">eval.c:227</a></div></div>
<div class="ttc" id="eval_8c_html_aa0ed6533f101d55e1de0d35c2cb5a3a6"><div class="ttname"><a href="eval_8c.html#aa0ed6533f101d55e1de0d35c2cb5a3a6">set_cdr</a></div><div class="ttdeci">void set_cdr(cell *con, cell *val)</div><div class="ttdoc">set cdr cell of a cons cell </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00065">eval.c:65</a></div></div>
<div class="ttc" id="eval_8c_html_ade3b136d40c39facb2bc072e5e73c97f"><div class="ttname"><a href="eval_8c.html#ade3b136d40c39facb2bc072e5e73c97f">mk</a></div><div class="ttdeci">static cell * mk(lisp *l, lisp_type type, size_t count,...)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00024">eval.c:24</a></div></div>
<div class="ttc" id="structlisp_html"><div class="ttname"><a href="structlisp.html">lisp</a></div><div class="ttdoc">The state for a lisp interpreter, multiple such instances can run at the same time. It contains everything needed to run a complete lisp environment. </div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00166">private.h:166</a></div></div>
<div class="ttc" id="private_8h_html_a1ced6a1664758079d997f7d127ee1834a5a063e265d2ac903b6808e9f6e73ec46"><div class="ttname"><a href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a5a063e265d2ac903b6808e9f6e73ec46">INTEGER</a></div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00051">private.h:51</a></div></div>
<div class="ttc" id="liblisp_8h_html_a716296be19860a648f72ee1b7ed5b473"><div class="ttname"><a href="liblisp_8h.html#a716296be19860a648f72ee1b7ed5b473">lisp_throw</a></div><div class="ttdeci">LIBLISP_API void lisp_throw(lisp *l, int ret)</div><div class="ttdoc">A method for throwing an exception in the lisp interpreter, this will call exit() if internally a jmp...</div><div class="ttdef"><b>Definition:</b> <a href="lisp_8c_source.html#l00022">lisp.c:22</a></div></div>
<div class="ttc" id="liblisp_8h_html_a1a979c161eb5ec8e01819e10ac6e25a9"><div class="ttname"><a href="liblisp_8h.html#a1a979c161eb5ec8e01819e10ac6e25a9">lfloat</a></div><div class="ttdeci">double lfloat</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l00049">liblisp.h:49</a></div></div>
<div class="ttc" id="eval_8c_html_a7051b14e8916ee8be6ae107ae8b13756"><div class="ttname"><a href="eval_8c.html#a7051b14e8916ee8be6ae107ae8b13756">extend_top</a></div><div class="ttdeci">cell * extend_top(lisp *l, cell *sym, cell *val)</div><div class="ttdoc">Extend the top level lisp environment with a key value pair. </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00219">eval.c:219</a></div></div>
<div class="ttc" id="eval_8c_html_a43a5b79266ab4eaf9acacfc074100962"><div class="ttname"><a href="eval_8c.html#a43a5b79266ab4eaf9acacfc074100962">mk_int</a></div><div class="ttdeci">cell * mk_int(lisp *l, intptr_t d)</div><div class="ttdoc">Make a lisp cell from an integer. </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00128">eval.c:128</a></div></div>
<div class="ttc" id="structlisp_html_a4923434c9224ab01519f04fa41d0d20b"><div class="ttname"><a href="structlisp.html#a4923434c9224ab01519f04fa41d0d20b">lisp::gc_collectp</a></div><div class="ttdeci">size_t gc_collectp</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00183">private.h:183</a></div></div>
<div class="ttc" id="eval_8c_html_a355560a5a6535a1742c759dfef1c2816"><div class="ttname"><a href="eval_8c.html#a355560a5a6535a1742c759dfef1c2816">is_userdef</a></div><div class="ttdeci">int is_userdef(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a user defined type </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00081">eval.c:81</a></div></div>
<div class="ttc" id="hash_8c_html_a3a8679e6ef9ea2850ff86f4efd221b7f"><div class="ttname"><a href="hash_8c.html#a3a8679e6ef9ea2850ff86f4efd221b7f">hash_insert</a></div><div class="ttdeci">int hash_insert(hashtable *ht, const char *key, void *val)</div><div class="ttdoc">insert a value into an initialized hash table </div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00082">hash.c:82</a></div></div>
<div class="ttc" id="structgc__list_html_a57d24fcd3af36e93f16a3bee72773025"><div class="ttname"><a href="structgc__list.html#a57d24fcd3af36e93f16a3bee72773025">gc_list::next</a></div><div class="ttdeci">struct gc_list * next</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00152">private.h:152</a></div></div>
<div class="ttc" id="eval_8c_html_a6e8b6cafc2f267d998dadc68665c2300"><div class="ttname"><a href="eval_8c.html#a6e8b6cafc2f267d998dadc68665c2300">is_in</a></div><div class="ttdeci">int is_in(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is an input I/O type </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00186">eval.c:186</a></div></div>
<div class="ttc" id="unioncell__data_html_acf52471883763ed2b07baa3dbcf10268"><div class="ttname"><a href="unioncell__data.html#acf52471883763ed2b07baa3dbcf10268">cell_data::v</a></div><div class="ttdeci">void * v</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00064">private.h:64</a></div></div>
<div class="ttc" id="private_8h_html_a0f16121c3e636a810406d75975bb8fb4"><div class="ttname"><a href="private_8h.html#a0f16121c3e636a810406d75975bb8fb4">COLLECTION_POINT</a></div><div class="ttdeci">#define COLLECTION_POINT</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00024">private.h:24</a></div></div>
<div class="ttc" id="liblisp_8h_html_ab76a53ad650d79f935ea7682ad657af9"><div class="ttname"><a href="liblisp_8h.html#ab76a53ad650d79f935ea7682ad657af9">CADDR</a></div><div class="ttdeci">#define CADDR(X)</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l01521">liblisp.h:1521</a></div></div>
<div class="ttc" id="private_8h_html_a1ced6a1664758079d997f7d127ee1834aedd9974ef2207e0a03e0717dcb9e2269"><div class="ttname"><a href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aedd9974ef2207e0a03e0717dcb9e2269">IO</a></div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00056">private.h:56</a></div></div>
<div class="ttc" id="gc_8c_html_ac0d2fe5ff60f86b7454b31b97141cc67"><div class="ttname"><a href="gc_8c.html#ac0d2fe5ff60f86b7454b31b97141cc67">gc_mark_and_sweep</a></div><div class="ttdeci">void gc_mark_and_sweep(lisp *l)</div><div class="ttdoc">Mark all reachable objects then perform a sweep. To prevent an object from being collected during the...</div><div class="ttdef"><b>Definition:</b> <a href="gc_8c_source.html#l00103">gc.c:103</a></div></div>
<div class="ttc" id="liblisp_8h_html"><div class="ttname"><a href="liblisp_8h.html">liblisp.h</a></div><div class="ttdoc">A minimal lisp interpreter and utility library. </div></div>
<div class="ttc" id="structgc__list_html"><div class="ttname"><a href="structgc__list.html">gc_list</a></div><div class="ttdoc">Type used to form linked list of all allocations. </div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00150">private.h:150</a></div></div>
<div class="ttc" id="eval_8c_html_aab52d60922b67b936406ba829ff980ab"><div class="ttname"><a href="eval_8c.html#aab52d60922b67b936406ba829ff980ab">multiple_extend</a></div><div class="ttdeci">static cell * multiple_extend(lisp *l, cell *env, cell *syms, cell *vals)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00212">eval.c:212</a></div></div>
<div class="ttc" id="eval_8c_html_a738a832f18035b88cb99a8340afa2a42"><div class="ttname"><a href="eval_8c.html#a738a832f18035b88cb99a8340afa2a42">is_subr</a></div><div class="ttdeci">int is_subr(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a language primitive </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00079">eval.c:79</a></div></div>
<div class="ttc" id="liblisp_8h_html_adaa3b303ab3dab9d51da22fd2b5297e9"><div class="ttname"><a href="liblisp_8h.html#adaa3b303ab3dab9d51da22fd2b5297e9">gsym_nil</a></div><div class="ttdeci">LIBLISP_API cell * gsym_nil(void)</div><div class="ttdoc">return the nil symbol </div></div>
<div class="ttc" id="eval_8c_html_ad66a88f8d5a8269a5979a3ff3cd6dc9c"><div class="ttname"><a href="eval_8c.html#ad66a88f8d5a8269a5979a3ff3cd6dc9c">get_func_format</a></div><div class="ttdeci">char * get_func_format(cell *x)</div><div class="ttdoc">get the type validation string for lambda/f-expr/subroutine </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00170">eval.c:170</a></div></div>
<div class="ttc" id="structlisp_html_a6413cfa291eb3d522999341a1e060976"><div class="ttname"><a href="structlisp.html#a6413cfa291eb3d522999341a1e060976">lisp::top_hash</a></div><div class="ttdeci">cell * top_hash</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00171">private.h:171</a></div></div>
<div class="ttc" id="liblisp_8h_html_ac903e89b90686ec20457dad61eefdc0b"><div class="ttname"><a href="liblisp_8h.html#ac903e89b90686ec20457dad61eefdc0b">ud_free</a></div><div class="ttdeci">void(* ud_free)(cell *)</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l00068">liblisp.h:68</a></div></div>
<div class="ttc" id="eval_8c_html_aec3d96c94194db301b404722f71627f4"><div class="ttname"><a href="eval_8c.html#aec3d96c94194db301b404722f71627f4">get_a2i</a></div><div class="ttdeci">intptr_t get_a2i(cell *x)</div><div class="ttdoc">float/int to int </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00178">eval.c:178</a></div></div>
<div class="ttc" id="structlisp_html_a2e9a2fabf313f92b948a2c345189d5ba"><div class="ttname"><a href="structlisp.html#a2e9a2fabf313f92b948a2c345189d5ba">lisp::gc_head</a></div><div class="ttdeci">gc_list * gc_head</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00180">private.h:180</a></div></div>
<div class="ttc" id="hash_8c_html_af44742328e5ce904a2d0e931680d6315"><div class="ttname"><a href="hash_8c.html#af44742328e5ce904a2d0e931680d6315">hash_lookup</a></div><div class="ttdeci">void * hash_lookup(hashtable *h, const char *key)</div><div class="ttdoc">look up a key in a table </div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00152">hash.c:152</a></div></div>
<div class="ttc" id="eval_8c_html_a87c86dd8ca95f47bfdd927462af3b522"><div class="ttname"><a href="eval_8c.html#a87c86dd8ca95f47bfdd927462af3b522">mk_str</a></div><div class="ttdeci">cell * mk_str(lisp *l, char *s)</div><div class="ttdoc">make lisp cell (string) from a string </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00153">eval.c:153</a></div></div>
<div class="ttc" id="liblisp_8h_html_abb20edbd57998ee7900ac4a2d2050a28"><div class="ttname"><a href="liblisp_8h.html#abb20edbd57998ee7900ac4a2d2050a28">ud_mark</a></div><div class="ttdeci">void(* ud_mark)(cell *)</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l00069">liblisp.h:69</a></div></div>
<div class="ttc" id="eval_8c_html_ad2dd481f190ada2c926023712e2b7c3f"><div class="ttname"><a href="eval_8c.html#ad2dd481f190ada2c926023712e2b7c3f">evlis</a></div><div class="ttdeci">static cell * evlis(lisp *l, unsigned depth, cell *exps, cell *env)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00465">eval.c:465</a></div></div>
<div class="ttc" id="io_8c_html_a2e31ac9d0ce2287367926c3ce55930e9"><div class="ttname"><a href="io_8c.html#a2e31ac9d0ce2287367926c3ce55930e9">io_is_in</a></div><div class="ttdeci">int io_is_in(io *i)</div><div class="ttdoc">check whether IO channel is input channel </div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l00014">io.c:14</a></div></div>
<div class="ttc" id="liblisp_8h_html_a04c5144998dee22d4151c410384952d2"><div class="ttname"><a href="liblisp_8h.html#a04c5144998dee22d4151c410384952d2">RECOVER</a></div><div class="ttdeci">#define RECOVER(LISP, FMT,...)</div><div class="ttdoc">Print out an error message and throw a lisp exception that can be recovered from. ...</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l01450">liblisp.h:1450</a></div></div>
<div class="ttc" id="structlisp_html_acf3c0bcf9c21477c4c96fbc0ed83c7fd"><div class="ttname"><a href="structlisp.html#acf3c0bcf9c21477c4c96fbc0ed83c7fd">lisp::cur_env</a></div><div class="ttdeci">cell * cur_env</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00171">private.h:171</a></div></div>
<div class="ttc" id="private_8h_html"><div class="ttname"><a href="private_8h.html">private.h</a></div><div class="ttdoc">An internal header for the liblisp project, not for external use. It defines the internals of what ar...</div></div>
<div class="ttc" id="eval_8c_html_a673a7bd83441e5bf2f2e9a9cf17b4dbb"><div class="ttname"><a href="eval_8c.html#a673a7bd83441e5bf2f2e9a9cf17b4dbb">is_int</a></div><div class="ttdeci">int is_int(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a integer </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00070">eval.c:70</a></div></div>
<div class="ttc" id="eval_8c_html_a7ce0e3258bc81559be6fde7b1e5d9f8a"><div class="ttname"><a href="eval_8c.html#a7ce0e3258bc81559be6fde7b1e5d9f8a">get_int</a></div><div class="ttdeci">intptr_t get_int(cell *x)</div><div class="ttdoc">cast any lisp cell to integer </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00164">eval.c:164</a></div></div>
<div class="ttc" id="eval_8c_html_a5a3732159abdfdde27b30f3a7a23d167"><div class="ttname"><a href="eval_8c.html#a5a3732159abdfdde27b30f3a7a23d167">get_float</a></div><div class="ttdeci">lfloat get_float(cell *x)</div><div class="ttdoc">get floating point val from lisp cell </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00177">eval.c:177</a></div></div>
<div class="ttc" id="eval_8c_html_aa27c8240813919b7c0026d47ecc8d80e"><div class="ttname"><a href="eval_8c.html#aa27c8240813919b7c0026d47ecc8d80e">get_subr</a></div><div class="ttdeci">subr get_subr(cell *x)</div><div class="ttdoc">get a lisp cell to a primitive func ptr </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00165">eval.c:165</a></div></div>
<div class="ttc" id="liblisp_8h_html_a1fbc0c9de7ed4f17b8db4bc9c62c544d"><div class="ttname"><a href="liblisp_8h.html#a1fbc0c9de7ed4f17b8db4bc9c62c544d">lisp_validate_cell</a></div><div class="ttdeci">int lisp_validate_cell(lisp *l, cell *x, cell *args, int recover)</div><div class="ttdoc">validate a function (subroutine, procedure or f-expression) against the information it carries around...</div><div class="ttdef"><b>Definition:</b> <a href="valid_8c_source.html#l00082">valid.c:82</a></div></div>
<div class="ttc" id="eval_8c_html_adff19797e567c3be25ea9e49b438e713"><div class="ttname"><a href="eval_8c.html#adff19797e567c3be25ea9e49b438e713">cons</a></div><div class="ttdeci">cell * cons(lisp *l, cell *x, cell *y)</div><div class="ttdoc">Create a new cons cell from a pair of values, this primitive is used to construct the basic data stru...</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00053">eval.c:53</a></div></div>
<div class="ttc" id="eval_8c_html_aeb1c1daea46ede355bd0f5284daa0958"><div class="ttname"><a href="eval_8c.html#aeb1c1daea46ede355bd0f5284daa0958">mk_proc</a></div><div class="ttdeci">cell * mk_proc(lisp *l, cell *args, cell *code, cell *env, cell *doc)</div><div class="ttdoc">make a lisp lambda procedure cell. </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00144">eval.c:144</a></div></div>
<div class="ttc" id="eval_8c_html_adb2d13d2dc858c957db731e5559b2f1b"><div class="ttname"><a href="eval_8c.html#adb2d13d2dc858c957db731e5559b2f1b">compiler</a></div><div class="ttdeci">static cell * compiler(lisp *l, unsigned depth, cell *exp, cell *env)</div><div class="ttdoc">"Compile" an expression, that is, perform optimizations and bind as many variables as possible...</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00254">eval.c:254</a></div></div>
<div class="ttc" id="structlisp_html_aec0bc5af23761bb6f23a483cfc3f6ed9"><div class="ttname"><a href="structlisp.html#aec0bc5af23761bb6f23a483cfc3f6ed9">lisp::sig</a></div><div class="ttdeci">int sig</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00192">private.h:192</a></div></div>
<div class="ttc" id="unioncell__data_html"><div class="ttname"><a href="unioncell__data.html">cell_data</a></div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00063">private.h:63</a></div></div>
<div class="ttc" id="structlisp_html_aedc3b51ae2087600c591b7837e9558dc"><div class="ttname"><a href="structlisp.html#aedc3b51ae2087600c591b7837e9558dc">lisp::ufuncs</a></div><div class="ttdeci">userdef_funcs ufuncs[MAX_USER_TYPES]</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00190">private.h:190</a></div></div>
<div class="ttc" id="private_8h_html_a1ced6a1664758079d997f7d127ee1834aef2863a469df3ea6871d640e3669a2f2"><div class="ttname"><a href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aef2863a469df3ea6871d640e3669a2f2">INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00049">private.h:49</a></div></div>
<div class="ttc" id="eval_8c_html_ace8b03027f8c7fdd65fb3d08f4dac22a"><div class="ttname"><a href="eval_8c.html#ace8b03027f8c7fdd65fb3d08f4dac22a">get_str</a></div><div class="ttdeci">char * get_str(cell *x)</div><div class="ttdoc">get string from a lisp cell </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00173">eval.c:173</a></div></div>
<div class="ttc" id="eval_8c_html_a57482ff639fc1f5e9a05c3be2baf3652"><div class="ttname"><a href="eval_8c.html#a57482ff639fc1f5e9a05c3be2baf3652">is_usertype</a></div><div class="ttdeci">int is_usertype(cell *x, int type)</div><div class="ttdoc">Is &#39;x&#39; a specific user defined type? For this to be true &#39;x&#39; has to be both a user defined type...</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00082">eval.c:82</a></div></div>
<div class="ttc" id="eval_8c_html_a3e87c79a747f19e34f66d9188ec707b4"><div class="ttname"><a href="eval_8c.html#a3e87c79a747f19e34f66d9188ec707b4">is_proc</a></div><div class="ttdeci">int is_proc(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a lambda procedure </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00075">eval.c:75</a></div></div>
<div class="ttc" id="private_8h_html_a1ced6a1664758079d997f7d127ee1834a9cf4a0866224b0bb4a7a895da27c9c4c"><div class="ttname"><a href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a9cf4a0866224b0bb4a7a895da27c9c4c">FLOAT</a></div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00059">private.h:59</a></div></div>
<div class="ttc" id="private_8h_html_ae25b9bb4524fe2b23538ebaa69828e73"><div class="ttname"><a href="private_8h.html#ae25b9bb4524fe2b23538ebaa69828e73">validate_arg_count</a></div><div class="ttdeci">size_t validate_arg_count(const char *fmt)</div><div class="ttdoc">Count the number of arguments in a validation format string validation format string, as passed to lisp_validate_args() </div><div class="ttdef"><b>Definition:</b> <a href="valid_8c_source.html#l00072">valid.c:72</a></div></div>
<div class="ttc" id="liblisp_8h_html_ab1d088f82cf40fc45daefd8c667a30ac"><div class="ttname"><a href="liblisp_8h.html#ab1d088f82cf40fc45daefd8c667a30ac">lstrdup</a></div><div class="ttdeci">LIBLISP_API char * lstrdup(const char *s)</div><div class="ttdoc">lstrdup for where it is not available, despite what POSIX thinks it is not OK to stick random junk in...</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00031">util.c:31</a></div></div>
<div class="ttc" id="structcell_html"><div class="ttname"><a href="structcell.html">cell</a></div><div class="ttdoc">A tagged object representing all possible lisp data types. </div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00083">private.h:83</a></div></div>
<div class="ttc" id="eval_8c_html_adfde0b3c79a0ba5ea6c9ad14ed3b17b5"><div class="ttname"><a href="eval_8c.html#adfde0b3c79a0ba5ea6c9ad14ed3b17b5">mk_sym</a></div><div class="ttdeci">static cell * mk_sym(lisp *l, char *s)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00113">eval.c:113</a></div></div>
<div class="ttc" id="private_8h_html_a4e3b689e9483994cfcd85954cba23338"><div class="ttname"><a href="private_8h.html#a4e3b689e9483994cfcd85954cba23338">MAX_RECURSION_DEPTH</a></div><div class="ttdeci">#define MAX_RECURSION_DEPTH</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00026">private.h:26</a></div></div>
<div class="ttc" id="private_8h_html_a1ced6a1664758079d997f7d127ee1834a19f80321835bd625e84101dc8fe164c1"><div class="ttname"><a href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a19f80321835bd625e84101dc8fe164c1">USERDEF</a></div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00060">private.h:60</a></div></div>
<div class="ttc" id="eval_8c_html_ac81cb1e094eea029e6d6436c728b540b"><div class="ttname"><a href="eval_8c.html#ac81cb1e094eea029e6d6436c728b540b">get_proc_code</a></div><div class="ttdeci">cell * get_proc_code(cell *x)</div><div class="ttdoc">get code from a procedure/f-expr </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00167">eval.c:167</a></div></div>
<div class="ttc" id="structlisp_html_a72770ae6a2d1685b8e06e0a5df11ecbf"><div class="ttname"><a href="structlisp.html#a72770ae6a2d1685b8e06e0a5df11ecbf">lisp::empty_docstr</a></div><div class="ttdeci">cell * empty_docstr</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00171">private.h:171</a></div></div>
<div class="ttc" id="eval_8c_html_a51296b30f2321a06d685f54411331d62"><div class="ttname"><a href="eval_8c.html#a51296b30f2321a06d685f54411331d62">is_cons</a></div><div class="ttdeci">int is_cons(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a cons cell </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00073">eval.c:73</a></div></div>
<div class="ttc" id="eval_8c_html_aa90bd79c45d06dfed26429e24d1958b2"><div class="ttname"><a href="eval_8c.html#aa90bd79c45d06dfed26429e24d1958b2">is_sym</a></div><div class="ttdeci">int is_sym(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a symbol </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00078">eval.c:78</a></div></div>
<div class="ttc" id="eval_8c_html_a5644903f316b4d59b22e782f29e9abb6"><div class="ttname"><a href="eval_8c.html#a5644903f316b4d59b22e782f29e9abb6">get_a2f</a></div><div class="ttdeci">lfloat get_a2f(cell *x)</div><div class="ttdoc">float/int to float </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00182">eval.c:182</a></div></div>
<div class="ttc" id="eval_8c_html_a4b702fae0cca30e63172477748be82cb"><div class="ttname"><a href="eval_8c.html#a4b702fae0cca30e63172477748be82cb">fix_list_len</a></div><div class="ttdeci">void fix_list_len(cell *x, size_t l)</div><div class="ttdoc">fix a lists length after calls to set_cdr </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00097">eval.c:97</a></div></div>
<div class="ttc" id="eval_8c_html_a4a8c06dcbe437b8ae5e41d7dff7db1ec"><div class="ttname"><a href="eval_8c.html#a4a8c06dcbe437b8ae5e41d7dff7db1ec">get_user_type</a></div><div class="ttdeci">int get_user_type(cell *x)</div><div class="ttdoc">get the user-defined-value identifier </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00175">eval.c:175</a></div></div>
<div class="ttc" id="eval_8c_html_a3953e85df7e0683572dadb22c4b3fc67"><div class="ttname"><a href="eval_8c.html#a3953e85df7e0683572dadb22c4b3fc67">intern</a></div><div class="ttdeci">cell * intern(lisp *l, char *name)</div><div class="ttdoc">add a new symbol to the list of all symbols, two interned symbols containing the same name will compa...</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00202">eval.c:202</a></div></div>
<div class="ttc" id="structuserdef__funcs_html_a1686f0964fd0d2f16cee5b3fd5f979ae"><div class="ttname"><a href="structuserdef__funcs.html#a1686f0964fd0d2f16cee5b3fd5f979ae">userdef_funcs::print</a></div><div class="ttdeci">ud_print print</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00160">private.h:160</a></div></div>
<div class="ttc" id="eval_8c_html_a39d638c87292e05e38d881cbbb7fc9be"><div class="ttname"><a href="eval_8c.html#a39d638c87292e05e38d881cbbb7fc9be">mk_list</a></div><div class="ttdeci">cell * mk_list(lisp *l, cell *x,...)</div><div class="ttdoc">Make a proper list (terminate args with NULL) from a series of list cells. </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00115">eval.c:115</a></div></div>
<div class="ttc" id="private_8h_html_a1ced6a1664758079d997f7d127ee1834a3463ba81467a175d3608388e36aacab5"><div class="ttname"><a href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a3463ba81467a175d3608388e36aacab5">HASH</a></div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00057">private.h:57</a></div></div>
<div class="ttc" id="eval_8c_html_a41011ffe658293cca3d76c16e2af5e57"><div class="ttname"><a href="eval_8c.html#a41011ffe658293cca3d76c16e2af5e57">is_io</a></div><div class="ttdeci">int is_io(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a I/O type </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00072">eval.c:72</a></div></div>
<div class="ttc" id="eval_8c_html_a5f17a4741e9dd9175a02e4ef29231af7"><div class="ttname"><a href="eval_8c.html#a5f17a4741e9dd9175a02e4ef29231af7">is_hash</a></div><div class="ttdeci">int is_hash(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a hash table type </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00080">eval.c:80</a></div></div>
<div class="ttc" id="eval_8c_html_a302a5e3f8bf82b584dc6df70e24483cf"><div class="ttname"><a href="eval_8c.html#a302a5e3f8bf82b584dc6df70e24483cf">is_str</a></div><div class="ttdeci">int is_str(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a string </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00077">eval.c:77</a></div></div>
<div class="ttc" id="eval_8c_html_af2e7ad21105599cc8c14c02548260457"><div class="ttname"><a href="eval_8c.html#af2e7ad21105599cc8c14c02548260457">cdr</a></div><div class="ttdeci">cell * cdr(cell *con)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00063">eval.c:63</a></div></div>
<div class="ttc" id="liblisp_8h_html_ae73bb0b3e06dcfa654bf6a476c1a9ae6"><div class="ttname"><a href="liblisp_8h.html#ae73bb0b3e06dcfa654bf6a476c1a9ae6">CADR</a></div><div class="ttdeci">#define CADR(X)</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l01517">liblisp.h:1517</a></div></div>
<div class="ttc" id="eval_8c_html_aeb5730e0409d2651b978e4df154cc320"><div class="ttname"><a href="eval_8c.html#aeb5730e0409d2651b978e4df154cc320">is_proper_cons</a></div><div class="ttdeci">int is_proper_cons(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is not a dotted pair cons cell </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00074">eval.c:74</a></div></div>
<div class="ttc" id="liblisp_8h_html_a9474a02d053abd00ddc6734be551dd0f"><div class="ttname"><a href="liblisp_8h.html#a9474a02d053abd00ddc6734be551dd0f">lisp_printf</a></div><div class="ttdeci">LIBLISP_API int lisp_printf(lisp *l, io *o, unsigned depth, char *fmt,...)</div><div class="ttdoc">Formatted printing of lisp cells, colorized if color enabled on output stream, it can print out s-exp...</div><div class="ttdef"><b>Definition:</b> <a href="print_8c_source.html#l00053">print.c:53</a></div></div>
<div class="ttc" id="structcell_html_aecf75f37501f246db13387dd4bbefefd"><div class="ttname"><a href="structcell.html#aecf75f37501f246db13387dd4bbefefd">cell::close</a></div><div class="ttdeci">unsigned close</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00084">private.h:84</a></div></div>
<div class="ttc" id="liblisp_8h_html_a23b79ecd1e799550fa3dac7706da97a9"><div class="ttname"><a href="liblisp_8h.html#a23b79ecd1e799550fa3dac7706da97a9">CADAR</a></div><div class="ttdeci">#define CADAR(X)</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l01520">liblisp.h:1520</a></div></div>
<div class="ttc" id="eval_8c_html_aea42ecac7b727aa8b0b9d00ed39a47aa"><div class="ttname"><a href="eval_8c.html#aea42ecac7b727aa8b0b9d00ed39a47aa">mk_asciiz</a></div><div class="ttdeci">static cell * mk_asciiz(lisp *l, char *s, lisp_type type)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00103">eval.c:103</a></div></div>
<div class="ttc" id="structcell_html_a2052b8d8b73ec512c27ed7179b35c701"><div class="ttname"><a href="structcell.html#a2052b8d8b73ec512c27ed7179b35c701">cell::len</a></div><div class="ttdeci">unsigned len</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00084">private.h:84</a></div></div>
<div class="ttc" id="eval_8c_html_acb62c0c8bfeb0cf04d9f57d6306c8d89"><div class="ttname"><a href="eval_8c.html#acb62c0c8bfeb0cf04d9f57d6306c8d89">mk_hash</a></div><div class="ttdeci">cell * mk_hash(lisp *l, hashtable *h)</div><div class="ttdoc">make lisp cell from hash </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00154">eval.c:154</a></div></div>
<div class="ttc" id="private_8h_html_a1ced6a1664758079d997f7d127ee1834a5021f1b3acf88c9d7763faee3ea926d2"><div class="ttname"><a href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a5021f1b3acf88c9d7763faee3ea926d2">SUBR</a></div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00054">private.h:54</a></div></div>
<div class="ttc" id="eval_8c_html_a003f5e58ee7489a56411505889a4524a"><div class="ttname"><a href="eval_8c.html#a003f5e58ee7489a56411505889a4524a">is_list</a></div><div class="ttdeci">int is_list(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is a proper list </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00090">eval.c:90</a></div></div>
<div class="ttc" id="eval_8c_html_a62ad9147fad87e2a8072489915ee4097"><div class="ttname"><a href="eval_8c.html#a62ad9147fad87e2a8072489915ee4097">get_proc_args</a></div><div class="ttdeci">cell * get_proc_args(cell *x)</div><div class="ttdoc">get args to a procedure/f-expr </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00166">eval.c:166</a></div></div>
<div class="ttc" id="io_8c_html_afc6033ee825a1c01a8c99a7937cdd9f9"><div class="ttname"><a href="io_8c.html#afc6033ee825a1c01a8c99a7937cdd9f9">io_is_out</a></div><div class="ttdeci">int io_is_out(io *o)</div><div class="ttdoc">check whether IO channel is an output channel </div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l00018">io.c:18</a></div></div>
<div class="ttc" id="liblisp_8h_html_a084e83355a56f260f5a85e336fbb1a14"><div class="ttname"><a href="liblisp_8h.html#a084e83355a56f260f5a85e336fbb1a14">CDDR</a></div><div class="ttdeci">#define CDDR(X)</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l01519">liblisp.h:1519</a></div></div>
<div class="ttc" id="private_8h_html_a1ced6a1664758079d997f7d127ee1834ae3d30ffaffa3c06ed917e565dda1fbc5"><div class="ttname"><a href="private_8h.html#a1ced6a1664758079d997f7d127ee1834ae3d30ffaffa3c06ed917e565dda1fbc5">SYMBOL</a></div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00050">private.h:50</a></div></div>
<div class="ttc" id="unioncell__data_html_afdc55edacb3c5b23078b16a786556662"><div class="ttname"><a href="unioncell__data.html#afdc55edacb3c5b23078b16a786556662">cell_data::prim</a></div><div class="ttdeci">subr prim</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00066">private.h:66</a></div></div>
<div class="ttc" id="structlisp_html_a72e56bb5ceabec3120c5aebd4fd4b707"><div class="ttname"><a href="structlisp.html#a72e56bb5ceabec3120c5aebd4fd4b707">lisp::cur_depth</a></div><div class="ttdeci">unsigned cur_depth</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00201">private.h:201</a></div></div>
<div class="ttc" id="structlisp_html_ac222191fb76b3964f4e78c1217b68333"><div class="ttname"><a href="structlisp.html#ac222191fb76b3964f4e78c1217b68333">lisp::user_defined_types_used</a></div><div class="ttdeci">int user_defined_types_used</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00191">private.h:191</a></div></div>
<div class="ttc" id="unioncell__data_html_a33c4da3d6d24d8b1ce461dd815991d43"><div class="ttname"><a href="unioncell__data.html#a33c4da3d6d24d8b1ce461dd815991d43">cell_data::f</a></div><div class="ttdeci">lfloat f</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00065">private.h:65</a></div></div>
<div class="ttc" id="liblisp_8h_html_a55fbbe06f70eed969112255cab922049"><div class="ttname"><a href="liblisp_8h.html#a55fbbe06f70eed969112255cab922049">HALT</a></div><div class="ttdeci">#define HALT(LISP, FMT,...)</div><div class="ttdoc">Print out an error message and throw a lisp exception that the interpreter cannot recover from...</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l01457">liblisp.h:1457</a></div></div>
<div class="ttc" id="eval_8c_html_aedf19d28e0d0b3eefbafb1bc7f702f06"><div class="ttname"><a href="eval_8c.html#aedf19d28e0d0b3eefbafb1bc7f702f06">get_user</a></div><div class="ttdeci">void * get_user(cell *x)</div><div class="ttdoc">get data from user defined type </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00174">eval.c:174</a></div></div>
<div class="ttc" id="eval_8c_html_a1f167ad7898be452cce85eba31228f13"><div class="ttname"><a href="eval_8c.html#a1f167ad7898be452cce85eba31228f13">extend</a></div><div class="ttdeci">cell * extend(lisp *l, cell *env, cell *sym, cell *val)</div><div class="ttdoc">extend an environment with a symbol-value pair </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00198">eval.c:198</a></div></div>
<div class="ttc" id="eval_8c_html_ad37aa91bda3699e1a7bb0ca8b10a2859"><div class="ttname"><a href="eval_8c.html#ad37aa91bda3699e1a7bb0ca8b10a2859">mk_io</a></div><div class="ttdeci">cell * mk_io(lisp *l, io *x)</div><div class="ttdoc">Make lisp cell from an I/O stream. </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00129">eval.c:129</a></div></div>
<div class="ttc" id="eval_8c_html_a0dae34d4c122908be89718cb875722c3"><div class="ttname"><a href="eval_8c.html#a0dae34d4c122908be89718cb875722c3">mk_user</a></div><div class="ttdeci">cell * mk_user(lisp *l, void *x, intptr_t type)</div><div class="ttdoc">make a user defined type </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00155">eval.c:155</a></div></div>
<div class="ttc" id="structcell_html_a3051324039cd8076d6cafc6395dee24b"><div class="ttname"><a href="structcell.html#a3051324039cd8076d6cafc6395dee24b">cell::type</a></div><div class="ttdeci">unsigned type</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00084">private.h:84</a></div></div>
<div class="ttc" id="gc_8c_html_a11b4613c9b36ca7a145c8fb466848c2c"><div class="ttname"><a href="gc_8c.html#a11b4613c9b36ca7a145c8fb466848c2c">gc_add</a></div><div class="ttdeci">cell * gc_add(lisp *l, cell *op)</div><div class="ttdoc">Add a lisp object to the stack of temporary variables, anything on this stack will not be collected u...</div><div class="ttdef"><b>Definition:</b> <a href="gc_8c_source.html#l00083">gc.c:83</a></div></div>
<div class="ttc" id="private_8h_html_a35c8d797a63ea3491ea77f5898ddf471"><div class="ttname"><a href="private_8h.html#a35c8d797a63ea3491ea77f5898ddf471">BITS_IN_LENGTH</a></div><div class="ttdeci">#define BITS_IN_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00025">private.h:25</a></div></div>
<div class="ttc" id="eval_8c_html_aa35f0a1ffb5b3ff63262de1286f81edf"><div class="ttname"><a href="eval_8c.html#aa35f0a1ffb5b3ff63262de1286f81edf">is_closed</a></div><div class="ttdeci">int is_closed(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is &#39;closed&#39; or invalidated </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00088">eval.c:88</a></div></div>
<div class="ttc" id="liblisp_8h_html_a5a64276747b995fc353ef8fcfbc683f8"><div class="ttname"><a href="liblisp_8h.html#a5a64276747b995fc353ef8fcfbc683f8">subr</a></div><div class="ttdeci">cell *(* subr)(lisp *, cell *)</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l00065">liblisp.h:65</a></div></div>
<div class="ttc" id="liblisp_8h_html_a8e2c1e1ecb6040efd57ea0aad82892e2"><div class="ttname"><a href="liblisp_8h.html#a8e2c1e1ecb6040efd57ea0aad82892e2">lisp_get_logging</a></div><div class="ttdeci">LIBLISP_API io * lisp_get_logging(lisp *l)</div><div class="ttdoc">get the logging/error channel in use in a lisp environment </div><div class="ttdef"><b>Definition:</b> <a href="lisp_8c_source.html#l00141">lisp.c:141</a></div></div>
<div class="ttc" id="private_8h_html_a1ced6a1664758079d997f7d127ee1834a1c4e8663b63d920e751d99c8a81c55f7"><div class="ttname"><a href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a1c4e8663b63d920e751d99c8a81c55f7">FPROC</a></div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00058">private.h:58</a></div></div>
<div class="ttc" id="eval_8c_html_ae8aeddf9982a71be4f996d0b6b9412da"><div class="ttname"><a href="eval_8c.html#ae8aeddf9982a71be4f996d0b6b9412da">get_func_docstring</a></div><div class="ttdeci">cell * get_func_docstring(cell *x)</div><div class="ttdoc">get the documentation string for a lambda/f-expr/subroutine </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00169">eval.c:169</a></div></div>
<div class="ttc" id="private_8h_html_a1ced6a1664758079d997f7d127ee1834a25b8c53f9baa8274b0d8008fd46be538"><div class="ttname"><a href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a25b8c53f9baa8274b0d8008fd46be538">CONS</a></div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00052">private.h:52</a></div></div>
<div class="ttc" id="eval_8c_html_a6d713271349299269de6a6833b407573"><div class="ttname"><a href="eval_8c.html#a6d713271349299269de6a6833b407573">is_out</a></div><div class="ttdeci">int is_out(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is an output I/O type </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00187">eval.c:187</a></div></div>
<div class="ttc" id="private_8h_html_a1ced6a1664758079d997f7d127ee1834aee847e634a4297b274316de8a8ca9921"><div class="ttname"><a href="private_8h.html#a1ced6a1664758079d997f7d127ee1834aee847e634a4297b274316de8a8ca9921">STRING</a></div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00055">private.h:55</a></div></div>
<div class="ttc" id="eval_8c_html_ab1ac0398b17f5d69ed568b042e6e8191"><div class="ttname"><a href="eval_8c.html#ab1ac0398b17f5d69ed568b042e6e8191">is_arith</a></div><div class="ttdeci">int is_arith(cell *x)</div><div class="ttdoc">true if &#39;x&#39; is integer or float </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00086">eval.c:86</a></div></div>
<div class="ttc" id="eval_8c_html_a459873e4af4fc88ce98791ffeaf25d5c"><div class="ttname"><a href="eval_8c.html#a459873e4af4fc88ce98791ffeaf25d5c">car</a></div><div class="ttdeci">cell * car(cell *con)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00062">eval.c:62</a></div></div>
<div class="ttc" id="structuserdef__funcs_html_ad992374330ede9ac007a785f0ea954bf"><div class="ttname"><a href="structuserdef__funcs.html#ad992374330ede9ac007a785f0ea954bf">userdef_funcs::mark</a></div><div class="ttdeci">ud_mark mark</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00158">private.h:158</a></div></div>
<div class="ttc" id="eval_8c_html_a9012a737bc88660a10830113b2c31231"><div class="ttname"><a href="eval_8c.html#a9012a737bc88660a10830113b2c31231">get_raw</a></div><div class="ttdeci">void * get_raw(cell *x)</div><div class="ttdoc">Get raw lisp value. </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00163">eval.c:163</a></div></div>
<div class="ttc" id="structcell_html_af465c5c9fbc7d76bc13be061ef9b00d3"><div class="ttname"><a href="structcell.html#af465c5c9fbc7d76bc13be061ef9b00d3">cell::p</a></div><div class="ttdeci">cell_data p[1]</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00089">private.h:89</a></div></div>
<div class="ttc" id="liblisp_8h_html_a1bc56dc0e842fadd23db494933be8daa"><div class="ttname"><a href="liblisp_8h.html#a1bc56dc0e842fadd23db494933be8daa">CDAR</a></div><div class="ttdeci">#define CDAR(X)</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l01518">liblisp.h:1518</a></div></div>
<div class="ttc" id="liblisp_8h_html_aacca2fcbbf72427ecb4c9062d11f8f7e"><div class="ttname"><a href="liblisp_8h.html#aacca2fcbbf72427ecb4c9062d11f8f7e">VALIDATE</a></div><div class="ttdeci">#define VALIDATE(LISP, MSG, LEN, FMT, ARGS, RECOVER)</div><div class="ttdoc">validate a lisp expression and automatically put file, function and line information into the macro...</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l01476">liblisp.h:1476</a></div></div>
<div class="ttc" id="structhashtable_html"><div class="ttname"><a href="structhashtable.html">hashtable</a></div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00103">private.h:103</a></div></div>
<div class="ttc" id="liblisp_8h_html_ac48a67e312a4ae6bcdb18530e3d096af"><div class="ttname"><a href="liblisp_8h.html#ac48a67e312a4ae6bcdb18530e3d096af">ud_equal</a></div><div class="ttdeci">int(* ud_equal)(cell *, cell *)</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l00070">liblisp.h:70</a></div></div>
<div class="ttc" id="eval_8c_html_ad17b84da431b2ff977e964afe0da7c7c"><div class="ttname"><a href="eval_8c.html#ad17b84da431b2ff977e964afe0da7c7c">mk_subr</a></div><div class="ttdeci">cell * mk_subr(lisp *l, subr p, const char *fmt, const char *doc)</div><div class="ttdoc">Subroutine creation function. This allows the interpreter to be extended with arbitrary lisp function...</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00131">eval.c:131</a></div></div>
<div class="ttc" id="private_8h_html_a1ced6a1664758079d997f7d127ee1834a616db68dab196835059ff976d67fac33"><div class="ttname"><a href="private_8h.html#a1ced6a1664758079d997f7d127ee1834a616db68dab196835059ff976d67fac33">PROC</a></div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00053">private.h:53</a></div></div>
<div class="ttc" id="eval_8c_html_a9975583d38b57041ec81735b111fc796"><div class="ttname"><a href="eval_8c.html#a9975583d38b57041ec81735b111fc796">set_length</a></div><div class="ttdeci">void set_length(cell *x, size_t len)</div><div class="ttdoc">set the length field of a cell </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00068">eval.c:68</a></div></div>
<div class="ttc" id="eval_8c_html_ab5e9cb7764d5c55ec7cc56c9ee8b3f7d"><div class="ttname"><a href="eval_8c.html#ab5e9cb7764d5c55ec7cc56c9ee8b3f7d">get_sym</a></div><div class="ttdeci">char * get_sym(cell *x)</div><div class="ttdoc">get string (symbol) from a lisp cell </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00172">eval.c:172</a></div></div>
<div class="ttc" id="structuserdef__funcs_html_ae0e7d0cd916f1d1b430978306fc69c14"><div class="ttname"><a href="structuserdef__funcs.html#ae0e7d0cd916f1d1b430978306fc69c14">userdef_funcs::equal</a></div><div class="ttdeci">ud_equal equal</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00159">private.h:159</a></div></div>
<div class="ttc" id="eval_8c_html_aee3c09262c4e325bb1b3495762cbfc34"><div class="ttname"><a href="eval_8c.html#aee3c09262c4e325bb1b3495762cbfc34">eval</a></div><div class="ttdeci">cell * eval(lisp *l, unsigned depth, cell *exp, cell *env)</div><div class="ttdoc">Evaluate a lisp expression. </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00282">eval.c:282</a></div></div>
<div class="ttc" id="liblisp_8h_html_a5dacd906e9f76cd204a053595cc77406"><div class="ttname"><a href="liblisp_8h.html#a5dacd906e9f76cd204a053595cc77406">ud_print</a></div><div class="ttdeci">int(* ud_print)(io *, unsigned, cell *)</div><div class="ttdef"><b>Definition:</b> <a href="liblisp_8h_source.html#l00071">liblisp.h:71</a></div></div>
<div class="ttc" id="eval_8c_html_a5a828623d56160e42f52235770c12e5b"><div class="ttname"><a href="eval_8c.html#a5a828623d56160e42f52235770c12e5b">get_length</a></div><div class="ttdeci">unsigned get_length(cell *x)</div><div class="ttdoc">Get lisp length, this will get the length field of any object, even if it does not make sense...</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00162">eval.c:162</a></div></div>
<div class="ttc" id="eval_8c_html_a7cf7bde5254372e4d41fa8b8f5629681"><div class="ttname"><a href="eval_8c.html#a7cf7bde5254372e4d41fa8b8f5629681">set_car</a></div><div class="ttdeci">void set_car(cell *con, cell *val)</div><div class="ttdoc">Set the first value in a cons cell. Unlike most functions this mutates data. The first cell is called...</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00064">eval.c:64</a></div></div>
<div class="ttc" id="eval_8c_html_acba653f5a2bae36ef1eb70cdb750a466"><div class="ttname"><a href="eval_8c.html#acba653f5a2bae36ef1eb70cdb750a466">get_proc_env</a></div><div class="ttdeci">cell * get_proc_env(cell *x)</div><div class="ttdoc">get procedure/f-expr environment </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00168">eval.c:168</a></div></div>
<div class="ttc" id="private_8h_html_a07d2450ca8cfb31e79703d20c8851de7"><div class="ttname"><a href="private_8h.html#a07d2450ca8cfb31e79703d20c8851de7">MAX_USER_TYPES</a></div><div class="ttdeci">#define MAX_USER_TYPES</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00023">private.h:23</a></div></div>
<div class="ttc" id="eval_8c_html_adcf89e01464e725502e2b45c08fcbe99"><div class="ttname"><a href="eval_8c.html#adcf89e01464e725502e2b45c08fcbe99">new_user_defined_type</a></div><div class="ttdeci">int new_user_defined_type(lisp *l, ud_free f, ud_mark m, ud_equal e, ud_print p)</div><div class="ttdoc">return a new token representing a new type </div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00189">eval.c:189</a></div></div>
<div class="ttc" id="structgc__list_html_a17641719035c45bc1c924c01b4967e82"><div class="ttname"><a href="structgc__list.html#a17641719035c45bc1c924c01b4967e82">gc_list::ref</a></div><div class="ttdeci">cell * ref</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00151">private.h:151</a></div></div>
<div class="ttc" id="private_8h_html_a1ced6a1664758079d997f7d127ee1834"><div class="ttname"><a href="private_8h.html#a1ced6a1664758079d997f7d127ee1834">lisp_type</a></div><div class="ttdeci">lisp_type</div><div class="ttdef"><b>Definition:</b> <a href="private_8h_source.html#l00048">private.h:48</a></div></div>
<div class="ttc" id="liblisp_8h_html_ad2839406c39c17cb42470eb827016272"><div class="ttname"><a href="liblisp_8h.html#ad2839406c39c17cb42470eb827016272">gsym_error</a></div><div class="ttdeci">LIBLISP_API cell * gsym_error(void)</div><div class="ttdoc">return the error symbol </div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="eval_8c.html">eval.c</a></li>
    <li class="footer">Generated on Sun Jan 10 2016 00:49:11 for liblisp by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
